{"version":3,"sources":["resources/subtitles/welcom.vtt","resources/image/lihuaMiku.png","resources/image/subeditor.ico","resources/image/blackboard.png","model/sub.js","utils/timeFormatter.js","utils/logger.js","services/validateService.js","services/subService.js","services/videoService.js","components/common/bootstrapToast.jsx","utils/notifier.js","services/httpService.js","utils/translater.js","utils/progressor.js","services/guideService.js","components/header.jsx","components/videoPlayer.jsx","components/common/input.jsx","components/subRow.jsx","components/subHeaderRow.jsx","components/subTable.jsx","components/videoControls.jsx","components/common/rippleButton.jsx","components/tools.jsx","components/waveLine.jsx","model/editorState.js","components/subEditor.jsx","components/test.jsx","App.js","components/notSupportMobile.jsx","serviceWorker.js","index.js","resources/image/subEditor.png"],"names":["module","exports","Sub","start","end","content","this","Number","toFixed","editing","subService","toTime","timeFormatter","number2Time","number","fixedNum","DT","d2t","time2Number","time","t2d","getTimeLength","startTime","endTime","displayLogOff","config","log","logger","clog","console","timeRegx","schema","Joi","string","regex","required","min","label","max","length","greater","errorSchema","labelSchema","defaultOption","abortEarly","allowUnknown","skipFunctions","validateProperty","name","value","sigleSchema","obj","option","validate","error","validateService","getEditingSubSchema","getEditingErrorSchema","result","errorPaths","details","map","d","push","path","_","uniq","errors2messages","errors","errorMessages","Object","keys","key","validateTime","subArrayKey","sub_storage_key","subArrayBackupKey","sub_storage_backup_key","toNumber","readAsTextPE","resolve","reject","file","reader","FileReader","readAsText","onerror","onload","subFile","a","text","Promise","message","analyseSubPE","subUrl","$video","document","createElement","$track","appendChild","default","kind","src","track","cues","subCues","VTTCues","Array","from","subArray","c","fullSubArray","sub","mapSubToFullModel","createVttSubBlobUrl","vttText","vttBlob","Blob","type","URL","createObjectURL","fStartTime","formateTime","fEndTime","storageSubsPE","isBackup","subs","json","JSON","stringify","localStorage","setItem","e","getParseSubArrayPE","subsJson","getItem","parse","getSubArray","validatedTime","found","match","str","mapSubArray2Text","index","join","downloadFromUrl","url","fileName","aLink","style","display","href","download","body","click","removeChild","createSubArrayUrl","createSubTextArr","readSubFileAsText","createSubArray","saveSubArray","cleanSubArray","removeItem","getSubLength","downloadSubFile","getDefaultSub","defaultStart","defaultEnd","startIsErr","endIsErr","createSubUrlWorker","receiveUrl","workBlob","subUrlWorker","Worker","onmessage","event","data","sortSubArray","sortedArray","sort","pre","next","createSubTextArrFromStorage","videoService","createVideoType","fileType","videoType","getDefaultPicUrl","defaultPic","getDefaultSubUrl","defaultSub","BootstrapToast","head","small","dataArray","className","role","aria-live","aria-atomic","border","boxShadow","width","height","xmlns","preserveAspectRatio","focusable","fill","primary","warning","transitions","slide","Slide","zoom","Zoom","flip","Flip","bounce","Bounce","notify","positionStr","typeStr","transition","postionStrUpper","toUpperCase","typeStrUpper","toastConfig","position","toast","POSITION","TYPE","notifier","bootstrapToast","strArray","isActive","toastId","done","httpService","get","params","axiosConfig","axios","post","baiduTranslateUrl","baiduTranslateParams","searchParams","baiduTranslate","to","salt","Date","getTime","sign","md5","set","encodeHref","Base64","btoa","then","res","trans_result","Error","o","dst","catch","append","translateDebounce","debounce","leading","trailing","baiduTranslateLanguages","auto","zh","en","cht","yue","wyw","jp","kor","fra","spa","th","ara","ru","pt","de","it","el","nl","pl","bul","est","dan","fin","cs","rom","slo","swe","hu","vie","translateArrSeparator","translate_arr_separator","translater","googleTranslate","lang","query","getBaiduTranslateLangKey","findKey","v","getBaiduTranslateLanguages","translateByLangKey","fromKey","toKey","translateText","createTranslateTextFromStringArr","stringArr","NProgress","configure","minimum","progressor","inc","guideService","home","window","location","protocol","host","subEditorPath","trackTest","isMobile","navigator","userAgent","test","HeaderWrap","styled","header","LogoYa","Header","state","user","handleLogout","reload","title","SubEditorPackage","version","aria-hidden","userName","marginRight","alt","avatarImage","onClick","PureComponent","VideoWrapper","div","VideoPlayer","load","player","initPlayer","props","getElementById","classList","add","canPlay","onVideoCanPlay","notice","remove","pause","onVideoPlayerPausedSwitch","play","playing","onVideoPlaying","fullscreen","$playerContainer","resize","fullscreenCancel","nextProps","nextState","videoUrl","picUrl","id","options","video","pic","customType","flvCustom","videoElement","flvjs","isSupported","flvPlayer","createPlayer","hasAudio","attachMediaElement","subtitle","fontSize","bottom","color","contextmenu","indexOf","theme","loop","onLoad","onError","onCanplay","onPause","onPlay","onPlaying","onFullscreen","onFullscreenCancel","Component","InputYinput","input","Input","onChange","disabled","currentTarget","RowWrap","clickCount","SubRow","rowData","onRowRemove","onRowEdit","onRowClick","onRowCommit","onRowCancel","onRowInsert","editingSub","onInputValueChange","displayIndex","scrollIndex","displayOnEditing","setTimeout","stopPropagation","flex","HeaderRowWrap","SubHeaderRow","onDisplayIndexSwitch","subArrayLenIsZero","onInsert","TableWrapper","lihuaMikuPng","SubTable","$tableRef","React","createRef","toastId_validate","toastId_validatePropertys","setState","toast_validate","autoClose","flag","toast_validateProperty","errorMessage","currentId","ids","values","splice","hideProgressBar","handleInputValue","handleRowEdit","onEdit","handleRowClick","handleRowCommit","onCommit","handleRowRemove","onRemove","handleRowCancel","onCancel","tableBackGroundColor","$table","backgroundColor","handleDisplayIndexSwitch","boolean","handleRowInsert","scrollToButtom","scrollWrap","getElementsByClassName","scrollTop","scrollHeight","clientHeight","container","containerHeight","containerWidth","ref","headerHeight","gridClassName","rowHeight","scrollToIndex","rowCount","rowGetter","headerRowRenderer","rowRenderer","rowProps","VideoControlBox","VideoControls","onAction","playerPaused","RippleButtonWrapper","RippleButton","bgColor","element","rippleBtnBoxRef","useCallback","node","onmouseenter","ripple","querySelector","offsetWidth","top","offsetHeight","offsetY","left","offsetX","onmousedown","opacity","onmouseup","ToolsWrapper","require","FileYinput","Tools","languages","languagesKeys","currentLanguageKeyFrom","currentLanguageKeyTo","handleLanguageChange","handleTranslate","onAllSubTranslate","handleTranslateBackupReset","onSubArrayBackupReset","handleVideoControlActions","step","onVideoControlAction","handleSubFile","files","updateSubArray","updateSubUrl","vttStr","handleVideoFile","canPlayType","onSwitch","handleSubFileDownload","onDownload","handleSubClean","onClean","duration","onDurationChange","k","filter","LineWrapper","WaveLine","currentTime","onWaveClick","onWaveContextmenu","onSubBlockMove","onSubBlockMoveError","onSubBlockResize","onSubBlockClick","throttleWait","waveColor","alterWaveColor","waveScale","onSubMove","onSubMoveError","ErrorWait","ErrorColor","onSubResize","onSubClick","_subArray","WeakMap","_currentTime","EditorState","GlobalStyle","createGlobalStyle","Main","Left","Right","requestAnimationFrameCom","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","SubEditor","resizeContainer","clientWidth","addResizeListener","timeOutResize","func","wait","timeout","clearTimeout","addEventListener","videoControlsShortcutkey","preventDefault","keyCode","ctrlKey","altKey","addKeyboardListener","updateOneState","stateObject","willStorage","storageSubs","postMessage","willLoadTrack","revokeObjectURL","loadTrack","cleanSubP","firstElementChild","subtitleDiv","p","firstChild","cleanStorageSubs","initSubTable","defaultSubUrl","defaultSubArray","handleSubRemove","handleSubEdit","handleSubClick","playerSeekTo","handleSubCancel","handleSubCommit","handleSubInsert","Math","abs","dSub","handleSubDownload","isSuccess","confirm","handlePlayerInit","frameWork","handleCurrentTime","second","action","seek","handleVideoSwitch","switchVideo","handleVideoCanPlay","toLowerCase","handleScrollIndexFrame","findIndex","handlePlayerPaused","paused","handleVideoPlaying","handleWaveClick","handleWaveContextmenu","handleSubBlockMove","originSub","translateSecond","tempSub","toastId_subBlockMoveError","handleSubBlockMoveError","justifyContent","alignItems","canClose","handleSubBlockResize","handleSubBlockClick","handleDurationChange","handleAllSubTranslate","subTextArr","resultTextArr","translatedSubArray","handleAllSubTranslateDebounce","handleSubArrayBackupReset","backupSubArray","round","createEditorState","editorstate","removeEventListener","funcProps","updateCurrentTime","Fragment","Helmet","subeditor_title","Test","test_title","controls","srcLang","App","charSet","rel","subeditorIco","closeOnClick","draggable","TOP_LEFT","component","NotSupportMobileWrapper","NotSupportMobile","Boolean","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9110694f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/welcom.b8b80cac.vtt\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/subeditor.928099fc.ico\";","module.exports = __webpack_public_path__ + \"static/media/blackboard.233681a4.png\";","import subService from \"../services/subService\";\r\n\r\nclass Sub {\r\n  //start 32 startTime  00:00:32\r\n  constructor(start, end, content) {\r\n    // number number string\r\n    this.start = Number(start.toFixed(3));\r\n    this.end = Number(end.toFixed(3));\r\n    this.content = content;\r\n    this.editing = false;\r\n  }\r\n\r\n  get startTime() {\r\n    return subService.toTime(this.start);\r\n  }\r\n\r\n  get endTime() {\r\n    return subService.toTime(this.end);\r\n  }\r\n\r\n  get length() {\r\n    return Number((this.end - this.start).toFixed(3));\r\n  }\r\n}\r\n\r\nexport default Sub;\r\n","import DT from \"duration-time-conversion\";\r\n// import logger from \"./logger\";\r\n\r\nexport function number2Time(number) {\r\n  const fixedNum = number.toFixed(3);\r\n  const time = DT.d2t(fixedNum);\r\n  //   logger.clog(\"\", time);\r\n  return time;\r\n}\r\n\r\nexport function time2Number(time) {\r\n  // logger.clog(time, DT.t2d(time).toFixed(3));\r\n  return DT.t2d(time).toFixed(3);\r\n}\r\n\r\nexport function getTimeLength(startTime, endTime) {\r\n  return (DT.t2d(endTime) - DT.t2d(startTime)).toFixed(3);\r\n}\r\n\r\nconst timeFormatter = {\r\n  number2Time,\r\n  time2Number,\r\n  getTimeLength\r\n};\r\n\r\nexport default timeFormatter;\r\n","import config from \"../config/config.json\";\r\n\r\n//offlogoff log\r\nlet displayLogOff = config.log === \"off\" ? true : false;\r\n\r\nexport function clog(...rest) {\r\n  if (displayLogOff) return;\r\n  console.log(...rest);\r\n}\r\n\r\nconst logger = {\r\n  clog\r\n};\r\n\r\nexport default logger;\r\n","import Joi from \"joi-browser\";\r\nimport _ from \"lodash\";\r\nimport logger from \"../utils/logger\";\r\n\r\n// 00:00:29  00:00:29.320\r\nconst timeRegx = /^\\d+:[0-5][0-9]:[0-5][0-9](\\.[0-9]{1,3})?$/;\r\n\r\nexport const schema = {\r\n  startTime: Joi.string()\r\n    .regex(timeRegx)\r\n    .required()\r\n    .min(8)\r\n    .label(\"\"),\r\n  endTime: Joi.string()\r\n    .regex(timeRegx)\r\n    .required()\r\n    .min(8)\r\n    .label(\"\"),\r\n  content: Joi.string()\r\n    .required()\r\n    .max(100)\r\n    .min(1)\r\n    .label(\"\"),\r\n  start: Joi.number(),\r\n  end: Joi.number(),\r\n  length: Joi.number().greater(0)\r\n};\r\n\r\n// \r\nconst errorSchema = {\r\n  startTime: \" 00:00:29.3208\",\r\n  endTime: \" 00:00:29.3208\",\r\n  content: \"1-100\",\r\n  start: \"\",\r\n  end: \"\",\r\n  length: \"0\"\r\n};\r\n\r\n//    \r\nconst labelSchema = {\r\n  startTime: \"\",\r\n  endTime: \"\",\r\n  content: \"\",\r\n  start: \"\",\r\n  end: \"\",\r\n  length: \"\"\r\n};\r\n\r\nexport function getEditingSubSchema() {\r\n  return {\r\n    startTime: schema.startTime,\r\n    endTime: schema.endTime,\r\n    content: schema.content,\r\n    start: schema.start,\r\n    end: schema.end,\r\n    length: schema.length\r\n  };\r\n}\r\n\r\nexport function getEditingErrorSchema() {\r\n  return {\r\n    startTime: errorSchema.startTime,\r\n    endTime: errorSchema.endTime,\r\n    content: errorSchema.content,\r\n    start: errorSchema.start,\r\n    end: errorSchema.end,\r\n    length: errorSchema.length\r\n  };\r\n}\r\n\r\nconst defaultOption = {\r\n  //  \r\n  abortEarly: false,\r\n  //\r\n  allowUnknown: true,\r\n  //\r\n  skipFunctions: true\r\n};\r\n\r\n//\r\nexport function validate(obj, schema, config) {\r\n  // https://www.jianshu.com/p/e6e277c1fda2\r\n  const option = {\r\n    ...defaultOption,\r\n    ...config\r\n  };\r\n  const result = Joi.validate(obj, schema, option).error;\r\n  // false  \r\n  if (!result) return false;\r\n  // path\r\n  logger.clog(\"editingSub\", result);\r\n  let errorPaths = [];\r\n  result.details.map(d => errorPaths.push(d.path[0]));\r\n  //\r\n  return _.uniq(errorPaths);\r\n}\r\n\r\n//\r\nexport function validateProperty(name, value, sigleSchema, config) {\r\n  const obj = { [name]: value };\r\n  const option = {\r\n    ...defaultOption,\r\n    abortEarly: true,\r\n    ...config\r\n  };\r\n  const result = Joi.validate(obj, sigleSchema, option).error;\r\n  // true\r\n  return result ? true : false;\r\n}\r\n\r\n//errors errorMessages \r\nexport function errors2messages(errors) {\r\n  if (!errors) return [];\r\n  const keys = Object.keys(errors);\r\n  const errorMessages = keys.map(key => {\r\n    return labelSchema[key] + \": \" + errors[key];\r\n  });\r\n  if (errorMessages.length === 0) {\r\n    errorMessages.push(\" \");\r\n  }\r\n  //\r\n  return errorMessages;\r\n}\r\n\r\n//time 00:00:29.320\r\nexport function validateTime(time) {\r\n  //true false\r\n  return validateProperty(\"startTime\", time, {\r\n    startTime: schema[\"startTime\"]\r\n  });\r\n}\r\n\r\nconst validateService = {\r\n  schema,\r\n  getEditingSubSchema,\r\n  getEditingErrorSchema,\r\n  validate,\r\n  validateProperty,\r\n  errors2messages,\r\n  validateTime\r\n};\r\n\r\nexport default validateService;\r\n","import Sub from \"../model/sub\";\r\nimport timeFormatter from \"../utils/timeFormatter\";\r\nimport logger from \"../utils/logger\";\r\nimport config from \"../config/config.json\";\r\nimport validateService from \"./validateService\";\r\n\r\n//sub localstoragekey\r\nconst subArrayKey = config.sub_storage_key || \"DefaultSubs\";\r\n//sub key\r\nconst subArrayBackupKey = config.sub_storage_backup_key || \"DefaultSubsBackup\";\r\n\r\n//  :: \r\nexport function toTime(number) {\r\n  return timeFormatter.number2Time(number);\r\n}\r\n\r\n//::  \r\nexport function toNumber(time) {\r\n  return Number(timeFormatter.time2Number(time));\r\n}\r\n\r\n//time\r\nexport function getTimeLength(startTime, endTime) {\r\n  return Number(timeFormatter.getTimeLength(startTime, endTime));\r\n}\r\n\r\n//PromiseExecutor \r\nfunction readAsTextPE(resolve, reject, file) {\r\n  const reader = new FileReader();\r\n  reader.readAsText(file);\r\n  //\r\n  reader.onerror = (error) => {\r\n    reject(error);\r\n  };\r\n  //  \r\n  reader.onload = () => {\r\n    // resultnull\r\n    resolve(reader.result);\r\n  };\r\n}\r\n\r\n//\r\nexport async function readSubFileAsText(subFile) {\r\n  let text = \"\";\r\n  try {\r\n    text = await new Promise((resolve, reject) =>\r\n      readAsTextPE(resolve, reject, subFile)\r\n    );\r\n  } catch (e) {\r\n    logger.clog(\"\", e);\r\n    e.message = \"\";\r\n    throw e;\r\n  }\r\n  return text;\r\n}\r\n\r\n//PromiseExecutor trackvtt cues\r\nfunction analyseSubPE(resolve, reject, subUrl) {\r\n  const $video = document.createElement(\"video\");\r\n  const $track = document.createElement(\"track\");\r\n  $video.appendChild($track);\r\n  $track.default = true;\r\n  $track.kind = \"metadata\";\r\n  //\r\n  $track.src = subUrl;\r\n  //\r\n  $track.onerror = (error) => {\r\n    reject(error);\r\n  };\r\n  // \r\n  $track.onload = () => {\r\n    //cues\r\n    resolve($track.track.cues);\r\n  };\r\n}\r\n\r\n// vtturl\r\nexport async function createSubArray(subUrl) {\r\n  let subCues = null;\r\n  try {\r\n    subCues = await new Promise((resolve, reject) =>\r\n      analyseSubPE(resolve, reject, subUrl)\r\n    );\r\n  } catch (e) {\r\n    logger.clog(\"\", e);\r\n    e.message = \"\";\r\n    throw e;\r\n  }\r\n  const VTTCues = Array.from(subCues || {});\r\n  logger.clog(\"VTTCues\", VTTCues);\r\n  const subArray = VTTCues.map((c) => {\r\n    return new Sub(c.startTime, c.endTime, c.text);\r\n  });\r\n  const fullSubArray = subArray.map((sub) => mapSubToFullModel(sub));\r\n  logger.clog(\"\", fullSubArray);\r\n  return fullSubArray;\r\n}\r\n\r\n//vttBlob track vtt url\r\nexport function createVttSubBlobUrl(vttText) {\r\n  const vttBlob = new Blob([vttText], {\r\n    type: \"text/vtt\",\r\n  });\r\n  logger.clog(\"vttBlob\", vttBlob);\r\n  return URL.createObjectURL(vttBlob);\r\n}\r\n\r\n// subtime localstorage\r\nexport function mapSubToFullModel(sub) {\r\n  // \r\n  const fStartTime = formateTime(sub.startTime);\r\n  const fEndTime = formateTime(sub.endTime);\r\n  return {\r\n    start: toNumber(fStartTime),\r\n    startTime: fStartTime,\r\n    end: toNumber(fEndTime),\r\n    endTime: fEndTime,\r\n    length: getTimeLength(fStartTime, fEndTime),\r\n    content: sub.content,\r\n  };\r\n}\r\n\r\n//PromiseExecutor localStorage\r\nfunction storageSubsPE(resolve, reject, subArray, isBackup = false) {\r\n  try {\r\n    const subs = subArray.map((sub) => mapSubToFullModel(sub));\r\n    const json = JSON.stringify(subs);\r\n    //\r\n    isBackup\r\n      ? localStorage.setItem(subArrayBackupKey, json)\r\n      : localStorage.setItem(subArrayKey, json);\r\n    resolve(json);\r\n  } catch (e) {\r\n    logger.clog(\"subslocal\", e);\r\n    reject(e);\r\n  }\r\n}\r\n\r\n//sublocalstorage\r\nexport function saveSubArray(subArray, isBackup = false) {\r\n  //subtime localStorage\r\n  return new Promise((resolve, reject) =>\r\n    storageSubsPE(resolve, reject, subArray, isBackup)\r\n  );\r\n}\r\n\r\n//sublocalstorage\r\nexport function cleanSubArray() {\r\n  localStorage.removeItem(subArrayKey);\r\n}\r\n\r\n//PromiseExecutor localStoragesub null null\r\nfunction getParseSubArrayPE(resolve, reject, isBackup = false) {\r\n  const key = isBackup ? subArrayBackupKey : subArrayKey;\r\n  const subsJson = localStorage.getItem(key);\r\n  try {\r\n    const subArray = JSON.parse(subsJson);\r\n    resolve(subArray || []);\r\n  } catch (e) {\r\n    logger.clog(\"localJson\", e);\r\n    reject(e);\r\n  }\r\n}\r\n\r\n//localStoragesub  \r\nexport function getSubArray(isBackup = false) {\r\n  return new Promise((resolve, reject) =>\r\n    getParseSubArrayPE(resolve, reject, isBackup)\r\n  );\r\n}\r\n\r\n//    time\r\nfunction formateTime(validatedTime) {\r\n  //  \r\n  const timeRegx = /^(\\d+:[0-5][0-9]:[0-5][0-9])(\\.[0-9]{1,3})?$/;\r\n  const found = validatedTime.match(timeRegx);\r\n  //\r\n  if (found && found[2]) {\r\n    let str = found[2];\r\n    while (str.length < 4) {\r\n      str += \"0\";\r\n    }\r\n    return found[1] + str;\r\n  }\r\n  //\r\n  if (found && found[1]) {\r\n    return found[1];\r\n  }\r\n  // time \r\n  return \"00:00:00\";\r\n}\r\n\r\n//\r\nexport function getSubLength(sub) {\r\n  //startTimeendTime\r\n  const schema = {\r\n    startTime: validateService.schema[\"startTime\"],\r\n    endTime: validateService.schema[\"endTime\"],\r\n  };\r\n  const error = validateService.validate(sub, schema, { abortEarly: true });\r\n  if (error) {\r\n    return sub.length;\r\n  } else {\r\n    return getTimeLength(formateTime(sub.startTime), formateTime(sub.endTime));\r\n  }\r\n}\r\n\r\n//  vtt text\r\nexport function mapSubArray2Text(subArray) {\r\n  // subArray\r\n  const vttCueStrArray = subArray.map(\r\n    (sub, index) =>\r\n      `${index + 1}\r\n${sub.startTime} --> ${sub.endTime}\r\n${sub.content}\r\n`\r\n  );\r\n  const vttText = \"WEBVTT\\n\\n\" + vttCueStrArray.join(\"\\n\");\r\n  logger.clog(vttText);\r\n  return vttText;\r\n}\r\n\r\n//url \r\nexport function downloadFromUrl(url, fileName) {\r\n  //a\r\n  const aLink = document.createElement(\"a\");\r\n  //\r\n  aLink.style.display = \"none\";\r\n  //ahrefurl\r\n  aLink.href = url;\r\n  //adownload  \r\n  aLink.download = fileName;\r\n  //body\r\n  document.body.appendChild(aLink);\r\n  //a\r\n  aLink.click();\r\n  //bodya\r\n  document.body.removeChild(aLink);\r\n}\r\n\r\n//url\r\nexport function createSubArrayUrl(subArray) {\r\n  if (!subArray || subArray.length === 0) return \"\";\r\n  //vtt\r\n  const vttText = mapSubArray2Text(subArray);\r\n  // vtt Blob url\r\n  return createVttSubBlobUrl(vttText);\r\n}\r\n\r\n// \r\nexport async function downloadSubFile() {\r\n  try {\r\n    //\r\n    const subArray = await getSubArray();\r\n    //subArraynull  false\r\n    if (!subArray || subArray.length === 0) return false;\r\n    //url\r\n    const url = createSubArrayUrl(subArray);\r\n    // url \r\n    downloadFromUrl(url, \".vtt\");\r\n    //true \r\n    return true;\r\n  } catch (e) {\r\n    logger.clog(\"\", e);\r\n    // \r\n    throw e;\r\n  }\r\n}\r\n\r\n//  \r\nexport function getDefaultSub(startTime, endTime) {\r\n  logger.clog(\"\", startTime, endTime, typeof (startTime + endTime));\r\n  //\r\n  const defaultContent = \"\";\r\n  //  \r\n  let defaultStart = 0;\r\n  let defaultEnd = 0.001;\r\n  //Number\r\n  if (typeof (startTime + endTime) === \"number\") {\r\n    defaultStart = Number(startTime.toFixed(3));\r\n    defaultEnd = Number(endTime.toFixed(3));\r\n    return new Sub(defaultStart, defaultEnd, defaultContent);\r\n  }\r\n  //number  \r\n  const startIsErr = validateService.validateTime(startTime);\r\n  const endIsErr = validateService.validateTime(endTime);\r\n  //\r\n  if (!startIsErr && !endIsErr) {\r\n    // \r\n    defaultStart = toNumber(formateTime(startTime));\r\n    defaultEnd = toNumber(formateTime(endTime));\r\n  }\r\n  //number \r\n  return new Sub(defaultStart, defaultEnd, defaultContent);\r\n}\r\n\r\n// worker \r\n//subArrayurlworker  blob\r\nfunction getSubToUrlWorkBlob() {\r\n  const workContent = `this.addEventListener('message', function (e) {\r\n    //\r\n    // subArray\r\n    const subArray = e.data;\r\n    const vttCueStrArray = subArray.map(\r\n    (sub, index) =>\r\n      \\`\\${index + 1}\r\n\\${sub.startTime} --> \\${sub.endTime}\r\n\\${sub.content}\r\n\\`\r\n  );\r\n    const vttText = \"WEBVTT\\\\n\\\\n\" + vttCueStrArray.join(\"\\\\n\");\r\n    const vttBlob = new Blob([vttText], {\r\n      type: \"text/vtt\"\r\n    });\r\n    const subUrl = URL.createObjectURL(vttBlob);\r\n    this.postMessage(subUrl);\r\n  }, false);`;\r\n  return new Blob([workContent]);\r\n}\r\n\r\n//worker   subArray url\r\nexport function createSubUrlWorker(receiveUrl) {\r\n  const workBlob = getSubToUrlWorkBlob();\r\n  const subUrlWorker = new Worker(URL.createObjectURL(workBlob));\r\n  // worker\r\n  subUrlWorker.onmessage = (event) => {\r\n    //subUrlworker url\r\n    const subUrl = event.data;\r\n    //workerurl\r\n    receiveUrl(subUrl);\r\n  };\r\n  return subUrlWorker;\r\n}\r\n\r\n//\r\nexport function sortSubArray(subArray) {\r\n  const sortedArray = [...subArray];\r\n  sortedArray.sort((pre, next) => {\r\n    return pre.start - next.start;\r\n  });\r\n  return sortedArray;\r\n}\r\n\r\n//\r\nexport function createSubTextArr(subArray) {\r\n  //fullModesubArray subArraynull  \r\n  if (!subArray || subArray.length === 0) return [];\r\n  const subTextArr = subArray.map((sub) => sub.content);\r\n  return subTextArr;\r\n}\r\n\r\n//\r\nexport async function createSubTextArrFromStorage() {\r\n  //\r\n  const subArray = await getSubArray();\r\n  return createSubTextArr(subArray);\r\n}\r\n\r\nconst subService = {\r\n  readSubFileAsText,\r\n  createSubArray,\r\n  createVttSubBlobUrl,\r\n  mapSubToFullModel,\r\n  saveSubArray,\r\n  cleanSubArray,\r\n  getSubArray,\r\n  getSubLength,\r\n  mapSubArray2Text,\r\n  createSubArrayUrl,\r\n  downloadFromUrl,\r\n  downloadSubFile,\r\n  getDefaultSub,\r\n  toTime,\r\n  toNumber,\r\n  getTimeLength,\r\n  createSubUrlWorker,\r\n  sortSubArray,\r\n  createSubTextArr,\r\n  createSubTextArrFromStorage,\r\n};\r\n\r\nexport default subService;\r\n","import logger from \"../utils/logger\";\r\nimport defaultPic from \"../resources/image/subEditor.png\"\r\nimport defaultSub from \"../resources/subtitles/welcom.vtt\"\r\n\r\nexport function createVideoType(fileType) {\r\n  if (typeof fileType !== \"string\") return \"\";\r\n  //video/x-flv video/mp4\r\n  const videoRegx = /^video\\/(mp4|x-(flv))+$/;\r\n  const found = fileType.match(videoRegx);\r\n  logger.clog(\"\", found);\r\n  const videoType =\r\n    found && found[2] ? found[2] + \"Custom\" : found ? found[1] : \"\";\r\n  logger.clog(\"\", videoType);\r\n  return videoType;\r\n}\r\n\r\n//\r\nexport function getDefaultPicUrl() {\r\n  return defaultPic;\r\n}\r\n\r\n//\r\nexport function getDefaultSubUrl() {\r\n  return defaultSub;\r\n}\r\n\r\nconst videoService = {\r\n  createVideoType,\r\n  getDefaultPicUrl,\r\n  getDefaultSubUrl,\r\n};\r\n\r\nexport default videoService;\r\n","import React from \"react\";\r\n\r\nconst BootstrapToast = ({ head, small, dataArray, type }) => {\r\n  const typeList = {\r\n    primary: \"#007aff\",\r\n    warning: \"#ff8300\"\r\n  };\r\n  return (\r\n    <div\r\n      className=\"toast show\"\r\n      role=\"alert\"\r\n      aria-live=\"assertive\"\r\n      aria-atomic=\"true\"\r\n      style={{\r\n        border: \"none\",\r\n        boxShadow: \"none\"\r\n      }}\r\n    >\r\n      <div className=\"toast-header\">\r\n        <svg\r\n          className=\"rounded mr-2\"\r\n          width=\"15\"\r\n          height=\"15\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          preserveAspectRatio=\"xMidYMid slice\"\r\n          focusable=\"false\"\r\n          role=\"img\"\r\n        >\r\n          <rect width=\"100%\" height=\"100%\" fill={typeList[type]}></rect>\r\n        </svg>\r\n        <strong className=\"mr-auto\">{head}</strong>\r\n        <small>{small || ''}</small>\r\n      </div>\r\n      <div className=\"toast-body\">\r\n        <ul className=\"list-group list-group-flush\">\r\n          {dataArray.map(value => (\r\n            <li className=\"list-group-item\" key={value}>\r\n              {value}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BootstrapToast;\r\n","import React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Slide, Zoom, Flip, Bounce } from \"react-toastify\";\r\nimport BootstrapToast from \"../components/common/bootstrapToast\";\r\n\r\nexport const transitions = {\r\n  slide: Slide,\r\n  zoom: Zoom,\r\n  flip: Flip,\r\n  bounce: Bounce\r\n};\r\n\r\nexport function notify(\r\n  content,\r\n  positionStr = \"top_left\",\r\n  typeStr = \"DEFAULT\",\r\n  config = null,\r\n  transition = \"bounce\"\r\n) {\r\n  const postionStrUpper = (positionStr + \"\").toUpperCase();\r\n  const typeStrUpper = (typeStr + \"\").toUpperCase();\r\n  const toastConfig = {\r\n    position: toast.POSITION[postionStrUpper],\r\n    type: toast.TYPE[typeStrUpper],\r\n    // hideProgressBar: true,\r\n    transition: transitions[transition],\r\n    ...config\r\n  };\r\n  return toast(content, toastConfig);\r\n}\r\n\r\n//bootstraptoast \r\nexport function bootstrapToast(\r\n  strArray,\r\n  type = \"warning\",\r\n  position = \"top_left\",\r\n  config,\r\n  transition = \"zoom\"\r\n) {\r\n  return notify(\r\n    <BootstrapToast head=\"\" dataArray={strArray} type={type} />,\r\n    position,\r\n    \"default\",\r\n    config,\r\n    transition\r\n  );\r\n}\r\n\r\n//idtoast true false\r\nexport function isActive(toastId) {\r\n  return toast.isActive(toastId);\r\n}\r\n\r\n//\r\nexport function done(toastId) {\r\n  return toast.done(toastId);\r\n}\r\n\r\nconst notifier = {\r\n  notify,\r\n  bootstrapToast,\r\n  isActive,\r\n  done\r\n};\r\n\r\nexport default notifier;\r\n","import axios from \"axios\";\r\n\r\n//https://github.com/axios/axios\r\n\r\n//\r\n// axios.interceptors.response.use(null, (error) => {\r\n//   console.log(\"\",error,error.response.status);\r\n//   return Promise.reject(error);\r\n// });\r\n\r\n/**\r\n * http get\r\n * @param {String} url\r\n * @param {Object} params    URLSearchParams\r\n * @param {Object} config headers\r\n */\r\nexport function get(url, params = {}, config = {}) {\r\n  const axiosConfig = { params, ...config };\r\n  return axios.get(url, axiosConfig);\r\n}\r\n\r\n/**\r\n *\r\n * @param {String} url\r\n * @param {*} data\r\n * @param {Object} config\r\n */\r\nexport function post(url, data = {}, config = {}) {\r\n  return axios.post(url, data, config);\r\n}\r\n\r\nconst httpService = {\r\n  get,\r\n  post,\r\n};\r\n\r\nexport default httpService;\r\n","import httpService from \"../services/httpService\";\r\nimport md5 from \"js-md5\";\r\nimport _ from \"lodash\";\r\nimport config from \"../config/config.json\";\r\nimport { Base64 } from \"js-base64\";\r\n\r\n// \r\nexport function googleTranslate(lang, query) {\r\n  const url = new URL(\"https://translate.googleapis.com/translate_a/single\");\r\n  url.searchParams.append(\"client\", \"gtx\");\r\n  url.searchParams.append(\"sl\", \"auto\");\r\n  url.searchParams.append(\"dt\", \"t\");\r\n  url.searchParams.append(\"tl\", lang);\r\n  url.searchParams.append(\"q\", query);\r\n  // console.log(url.href);\r\n  httpService\r\n    .get(\r\n      \"https://translate.googleapis.com/translate_a/single\",\r\n      url.searchParams\r\n    )\r\n    .then((res) => {\r\n      console.log(\"\", res);\r\n    });\r\n}\r\n\r\n// \r\nconst baiduTranslateUrl = new URL(\r\n  \"https://fanyi-api.baidu.com/api/trans/vip/translate\"\r\n);\r\nconst baiduTranslateAppid = \"20180619000178085\";\r\nconst baiduTranslateKey = \"ZEg5rb06NeW4wNjslD6F\";\r\nconst baiduTranslateParams = baiduTranslateUrl.searchParams;\r\nbaiduTranslateParams.append(\"appid\", baiduTranslateAppid);\r\n\r\n//   \r\nexport function baiduTranslate(from, to, text) {\r\n  console.log(\"\");\r\n  const salt = new Date().getTime();\r\n  const sign = md5(`${baiduTranslateAppid}${text}${salt}${baiduTranslateKey}`);\r\n  baiduTranslateParams.set(\"salt\", salt);\r\n  baiduTranslateParams.set(\"sign\", sign);\r\n  baiduTranslateParams.set(\"from\", from);\r\n  baiduTranslateParams.set(\"to\", to);\r\n  baiduTranslateParams.set(\"q\", text);\r\n\r\n  // const encodeHref = Base64.encodeURI(url.href);base64=\r\n  const encodeHref = Base64.btoa(baiduTranslateUrl.href);\r\n  return httpService\r\n    .get(`https://shproxy.herokuapp.com/shProxyApi/v1/get?url=${encodeHref}`)\r\n    .then((res) => {\r\n      console.log(\"\", res);\r\n      if (!res.data || !res.data.trans_result) {\r\n        //\r\n        throw new Error(\"\");\r\n      }\r\n      // \r\n      const resultTextArr =\r\n        (res.data.trans_result && res.data.trans_result.map((o) => o.dst)) ||\r\n        [];\r\n      return resultTextArr;\r\n    })\r\n    .catch((e) => {\r\n      //\r\n      throw new Error(e);\r\n    });\r\n}\r\n\r\n//\r\nexport function translate(from, to, text) {\r\n  //  translateByLangKeykey\r\n  return baiduTranslate(from, to, text);\r\n}\r\n\r\n// (2)\r\nexport const translateDebounce = _.debounce(translate, 2000, {\r\n  leading: true,\r\n  trailing: false,\r\n});\r\n\r\n//  (Object)\r\nconst baiduTranslateLanguages = {\r\n  auto: \"\",\r\n  zh: \"\",\r\n  en: \"\",\r\n  cht: \"\",\r\n  yue: \"\",\r\n  wyw: \"\",\r\n  jp: \"\",\r\n  kor: \"\",\r\n  fra: \"\",\r\n  spa: \"\",\r\n  th: \"\",\r\n  ara: \"\",\r\n  ru: \"\",\r\n  pt: \"\",\r\n  de: \"\",\r\n  it: \"\",\r\n  el: \"\",\r\n  nl: \"\",\r\n  pl: \"\",\r\n  bul: \"\",\r\n  est: \"\",\r\n  dan: \"\",\r\n  fin: \"\",\r\n  cs: \"\",\r\n  rom: \"\",\r\n  slo: \"\",\r\n  swe: \"\",\r\n  hu: \"\",\r\n  vie: \"\",\r\n};\r\n\r\nexport function getBaiduTranslateLanguages() {\r\n  return baiduTranslateLanguages;\r\n}\r\n\r\n//key\r\nexport function getBaiduTranslateLangKey(value) {\r\n  const key = _.findKey(baiduTranslateLanguages, (v) => v === value);\r\n  console.log(key);\r\n}\r\n\r\nconst translateArrSeparator = config.translate_arr_separator;\r\n//   translateArrSeparator(\\n) \r\nexport function createTranslateTextFromStringArr(stringArr) {\r\n  if (!stringArr || stringArr.length === 0) return \"\";\r\n  return stringArr.join(translateArrSeparator);\r\n}\r\n\r\n//key\r\nexport function translateByLangKey(fromKey, toKey, translateText) {\r\n  if (!baiduTranslateLanguages[fromKey] || !baiduTranslateLanguages[toKey])\r\n    return \"\";\r\n  // \r\n  return translateDebounce(fromKey, toKey, translateText);\r\n}\r\n\r\nconst translater = {\r\n  googleTranslate,\r\n  baiduTranslate,\r\n  getBaiduTranslateLangKey,\r\n  getBaiduTranslateLanguages,\r\n  translateByLangKey,\r\n  translateDebounce,\r\n  createTranslateTextFromStringArr,\r\n};\r\n\r\nexport default translater;\r\n","import NProgress from \"nprogress\";\r\n\r\n//\r\nconst defaultConfig = {\r\n  minimum: 0.1\r\n};\r\n//\r\nNProgress.configure(defaultConfig);\r\n\r\nfunction start(number) {\r\n  return number ? NProgress.start().set(number) : NProgress.start();\r\n}\r\n\r\nfunction set(number) {\r\n  return number && NProgress.set(number);\r\n}\r\n\r\nfunction inc(number) {\r\n  return number && NProgress.inc(number);\r\n}\r\n\r\nfunction done() {\r\n  NProgress.done();\r\n}\r\n\r\nconst progressor = {\r\n  start,\r\n  set,\r\n  inc,\r\n  done\r\n};\r\n\r\nexport default progressor;\r\n","const subEditorPath = \"/\";\r\nconst trackTest = \"/test\";\r\n// http://localhost:2020\r\nconst home = `${window.location.protocol}//${window.location.host}/`;\r\n\r\nexport function isMobile() {\r\n  console.log(\"agent\",window.navigator.userAgent);\r\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    window.navigator.userAgent\r\n  );\r\n}\r\n\r\nconst guideService = {\r\n  home,\r\n  subEditorPath,\r\n  trackTest,\r\n  isMobile\r\n};\r\n\r\nexport default guideService;\r\n","import React, { PureComponent } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport guideService from \"../services/guideService\";\r\nimport SubEditorPackage from \"../../package.json\";\r\n\r\nconst HeaderWrap = styled.header`\r\n  //50px\r\n  height: 50px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background-color: hsla(0, 0%, 100%, 0.8);\r\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);\r\n\r\n  .band {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n    padding-left: 30px;\r\n    flex-grow: 6;\r\n  }\r\n\r\n  .body {\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    flex-grow: 1;\r\n\r\n    .buttons {\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n\r\n    .links {\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-around;\r\n\r\n      margin-right: 40px;\r\n      i {\r\n        margin-right: 5px;\r\n      }\r\n      a {\r\n        color: #4c7b7b;\r\n        text-decoration: none;\r\n        font-size: 18px;\r\n        font-weight: 600;\r\n        padding: 0 10px 0 10px;\r\n\r\n        &:hover {\r\n          color: #66cccc;\r\n          //   text-decoration: underline;\r\n        }\r\n      }\r\n    }\r\n\r\n    .users {\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-around;\r\n\r\n      margin-right: 20px;\r\n      .avatar {\r\n        border-radius: 50%;\r\n        height: 40px;\r\n        border: 1px solid #ddd;\r\n        padding: 4px;\r\n        display: block;\r\n      }\r\n      span {\r\n        color: #4c7b7b;\r\n        text-decoration: none;\r\n        font-size: 13px;\r\n        font-weight: 600;\r\n        cursor: pointer;\r\n      }\r\n      span:hover {\r\n        color: #66cccc;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst LogoYa = styled.a`\r\n  text-decoration: none;\r\n  font-size: 22px;\r\n  font-style: italic;\r\n  font-weight: 400;\r\n  color: #66cccc;\r\n\r\n  :hover {\r\n    text-decoration: none;\r\n    color: #66cccc;\r\n  }\r\n\r\n  .version {\r\n    font-size: 12px;\r\n    font-weight: 600;\r\n    margin-left: 20px;\r\n    opacity: 0.4;\r\n    font-style: italic;\r\n    color: #262a3e;\r\n  }\r\n`;\r\n\r\nclass Header extends PureComponent {\r\n  state = {\r\n    user: {},\r\n  };\r\n\r\n  async componentDidMount() {}\r\n\r\n  handleLogout = async () => {\r\n    //\r\n    document.location.reload();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <HeaderWrap>\r\n        <div className=\"band\">\r\n          <LogoYa href={guideService.subEditorPath} title=\"Copyright  2020 SH\">\r\n            SubEditor\r\n            <span className=\"version\">version {SubEditorPackage.version}</span>\r\n          </LogoYa>\r\n        </div>\r\n\r\n        <div className=\"body\">\r\n          <div className=\"links\">\r\n            <a href=\"https://github.com/Shirtiny/SubEditor\" title=\"Github\">\r\n              <i className=\"fa fa-github\" aria-hidden=\"true\"></i>Github\r\n            </a>\r\n          </div>\r\n          <div className=\"users\">\r\n            <a\r\n              href=\"http://localhost:2020\"\r\n              title={this.state.user.userName || \"\"}\r\n              style={{ marginRight: \"10px\" }}\r\n            >\r\n              <img\r\n                className=\"avatar\"\r\n                alt=\"avatar\"\r\n                src={\r\n                  this.state.user.avatarImage ||\r\n                  `${guideService.home}subEditorLogo.png`\r\n                }\r\n              />\r\n            </a>\r\n            {this.state.user.userName && (\r\n              <span onClick={this.handleLogout} title=\"\">\r\n                \r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </HeaderWrap>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport DPlayer from \"react-dplayer\";\r\nimport flvjs from \"flv.js\";\r\nimport logger from \"../utils/logger\";\r\n\r\nconst VideoWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 70%;\r\n  padding: 15px;\r\n  // border-bottom: 1px solid rgb(10, 10, 10);\r\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\r\n\r\n  .dplayer_DefaultSize {\r\n    width: 90%;\r\n    height: 90%;\r\n  }\r\n\r\n  .dplayer {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n\r\n  .dplayer_disable {\r\n    pointer-events: none;\r\n  }\r\n\r\n  .playerBorder {\r\n    border: 4px solid #529393;\r\n    border-radius: 0.5em;\r\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\r\n  }\r\n\r\n  .hiddenSubs {\r\n    ::cue {\r\n      opacity: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nclass VideoPlayer extends Component {\r\n  // PureComponentshouldComponentUpdate props VideoPlayerprops\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return false;\r\n  }\r\n\r\n  //\r\n  load = (player) => {\r\n    const { initPlayer } = this.props;\r\n    initPlayer(player);\r\n  };\r\n\r\n  error = () => {\r\n    const $playerContainer = document.getElementById(\"player\");\r\n    //   \r\n    $playerContainer.classList.add(\"dplayer_DefaultSize\", \"dplayer_disable\");\r\n  };\r\n\r\n  //\r\n  canPlay = () => {\r\n    const { player, onVideoCanPlay } = this.props;\r\n    // \r\n    player.notice(\"\", 1500, 0.8);\r\n    //subArray workersubUrl\r\n    onVideoCanPlay();\r\n    const $playerContainer = document.getElementById(\"player\");\r\n    //  \r\n    $playerContainer.classList.remove(\"dplayer_disable\");\r\n  };\r\n\r\n  //\r\n  pause = () => {\r\n    console.log(\"\");\r\n    const { onVideoPlayerPausedSwitch } = this.props;\r\n    onVideoPlayerPausedSwitch(true);\r\n  };\r\n\r\n  //\r\n  play = () => {\r\n    console.log(\"\");\r\n    const { onVideoPlayerPausedSwitch } = this.props;\r\n    onVideoPlayerPausedSwitch(false);\r\n  };\r\n\r\n  //\r\n  playing = () => {\r\n    const { onVideoPlaying } = this.props;\r\n    onVideoPlaying();\r\n  };\r\n\r\n  //\r\n  fullscreen = () => {\r\n    const $playerContainer = document.getElementById(\"player\");\r\n    $playerContainer.classList.remove(\"playerBorder\");\r\n    $playerContainer.style.resize = \"\";\r\n  };\r\n\r\n  //\r\n  fullscreenCancel = () => {\r\n    const $playerContainer = document.getElementById(\"player\");\r\n    $playerContainer.classList.add(\"playerBorder\");\r\n    $playerContainer.style.resize = \"both\";\r\n  };\r\n\r\n  render() {\r\n    const { videoUrl, picUrl, subUrl } = this.props;\r\n    return (\r\n      <VideoWrapper id=\"playerBox\">\r\n        <DPlayer\r\n          id=\"player\"\r\n          className={\r\n            \"playerBorder dplayer_disable \" +\r\n            (picUrl ? \"\" : \"dplayer_DefaultSize\")\r\n          }\r\n          style={{ resize: \"both\" }}\r\n          options={{\r\n            video: {\r\n              url: videoUrl,\r\n              pic: picUrl,\r\n              customType: {\r\n                flvCustom: function (videoElement, player) {\r\n                  logger.clog(\"flv\");\r\n                  if (flvjs.isSupported()) {\r\n                    const flvPlayer = flvjs.createPlayer({\r\n                      type: \"flv\",\r\n                      url: videoElement.src,\r\n                      hasAudio: true,\r\n                    });\r\n                    flvPlayer.attachMediaElement(videoElement);\r\n                    flvPlayer.load();\r\n                  }\r\n                },\r\n              },\r\n            },\r\n            subtitle: {\r\n              url: subUrl,\r\n              type: \"webvtt\",\r\n              fontSize: \"25px\",\r\n              bottom: \"3%\",\r\n              color: \"rgb(37, 211, 211)\",\r\n            },\r\n            contextmenu: [\r\n              {\r\n                text: \"SubEditor\",\r\n                // link: \"https://github.com/DIYgod/DPlayer\",\r\n              },\r\n              {\r\n                text: \"\",\r\n                click: (player) => {\r\n                  const $playerContainer = document.getElementById(\"player\");\r\n                  $playerContainer.style.height = \"\";\r\n                },\r\n              },\r\n              {\r\n                text: \"\",\r\n                click: (player) => {\r\n                  const $playerContainer = document.getElementById(\"player\");\r\n                  $playerContainer.style.height = \"\";\r\n                  $playerContainer.style.width = \"90%\";\r\n                },\r\n              },\r\n              {\r\n                text: \"chrome/\",\r\n                click: (player) => {\r\n                  const video = player.video;\r\n                  const index = video.className.indexOf(\"hiddenSubs\");\r\n                  if (index > 0) {\r\n                    video.classList.remove(\"hiddenSubs\");\r\n                  } else {\r\n                    video.classList.add(\"hiddenSubs\");\r\n                  }\r\n                },\r\n              },\r\n            ],\r\n            theme: \"#ccc\",\r\n            loop: true,\r\n          }}\r\n          onLoad={this.load}\r\n          onError={this.error}\r\n          onCanplay={this.canPlay}\r\n          onPause={this.pause}\r\n          onPlay={this.play}\r\n          onPlaying={this.playing}\r\n          onFullscreen={this.fullscreen}\r\n          onFullscreenCancel={this.fullscreenCancel}\r\n        />\r\n      </VideoWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoPlayer;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst InputYinput = styled.input`\r\n  font-size: 14px;\r\n  color: #495057;\r\n  background-color: #fff;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 0.25rem;\r\n  background-clip: padding-box;\r\n\r\n  height: calc(1.5em + 0.5rem + 2px);\r\n  padding: 0.25rem 0.25rem;\r\n  font-size: 0.875rem;\r\n  line-height: 1.5;\r\n  border-radius: 0.2rem;\r\n\r\n  &.input_success {\r\n    :focus {\r\n      border-color: #28a745;\r\n      box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);\r\n    }\r\n  }\r\n  &.input_error {\r\n    border-color: #dc3545;\r\n    :focus {\r\n      border-color: #28a745;\r\n      box-shadow: 0 0 0 0.2rem rgba(232, 43, 43, 0.3);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Input = ({\r\n  className,\r\n  type,\r\n  name,\r\n  value,\r\n  onChange,\r\n  disabled,\r\n  style,\r\n  errors\r\n}) => {\r\n  return (\r\n    <InputYinput\r\n      disabled={disabled}\r\n      className={[...className, errors[name] ? \"input_error\" : \"input_success\"]}\r\n      type={type}\r\n      value={value}\r\n      onChange={event => onChange(name, event.currentTarget.value)}\r\n      style={{ ...style }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Input from \"./common/input\";\r\n\r\nconst RowWrap = styled.div`\r\n  .rowClasses {\r\n    background-color: #f2f2f2;\r\n    // border-bottom: 1px solid rgb(36, 41, 45);\r\n    min-width: 650px;\r\n    transition: all 0.15s ease;\r\n\r\n    //\r\n    -moz-user-select: none; /**/\r\n    -webkit-user-select: none; /*webkit*/\r\n    -ms-user-select: none; /*IE10*/\r\n    -khtml-user-select: none; /**/\r\n    user-select: none;\r\n\r\n    &.odd {\r\n      background-color: #fff;\r\n    }\r\n\r\n    &.highlight {\r\n      background-color: #2196f3;\r\n      text-shadow: 0 1px 0 rgba(0, 0, 0, 0.5);\r\n    }\r\n\r\n    &.illegal {\r\n      background-color: #c75123;\r\n      text-shadow: 0 1px 0 rgba(0, 0, 0, 0.5);\r\n    }\r\n\r\n    .rowT {\r\n      padding: 10px 5px;\r\n      text-align: center;\r\n    }\r\n\r\n    &: hover {\r\n      background-color: #529393;\r\n      color: #fff;\r\n      //\r\n      font-size: 14px;\r\n    }\r\n\r\n    &.onEditing {\r\n      background-color: #66cccc;\r\n\r\n      // \r\n      .display_onEditing {\r\n        display: block !important;\r\n      }\r\n      .hidden_onEditing {\r\n        display: none !important;\r\n      }\r\n    }\r\n\r\n    .editing_default_hidden {\r\n      //\r\n      display: none;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    .operation {\r\n      display: flex;\r\n      justify-content: center;\r\n\r\n      i {\r\n        width: 25px;\r\n        cursor: pointer;\r\n        font-size: 16px;\r\n        &: hover {\r\n          //\r\n          font-weight: 600;\r\n          // color: #ccc;\r\n          color: #82a8b7;\r\n          &.deleteIcon {\r\n            color: #f5f239;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .lineBox {\r\n    display: none;\r\n    height: 0;\r\n    width: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0px;\r\n    border-bottom: 0px dashed #529393;\r\n    box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    -webkit-box-sizing: border-box;\r\n    transition: color, border-color 0.3s ease-in-out;\r\n    &:hover {\r\n      display: block;\r\n      bottom: -5px;\r\n      border-bottom: 10px solid #02c0ff;\r\n      .insertBtn {\r\n        color: #02c0ff !important;\r\n        bottom: 10px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .insertBtn {\r\n    position: absolute;\r\n    right: 4px;\r\n    width: 20px;\r\n    height: 20px;\r\n    bottom: 15px;\r\n  }\r\n\r\n  //scrollrow row\r\n  .scrollToRowAnimation {\r\n    animation: scrollToRowAnimation 3s;\r\n    //\r\n    // animation-iteration-count: infinite;\r\n  }\r\n\r\n  .scrollIndexBackColor {\r\n    transition: background-color 0.5s ease-in;\r\n    background-color: #04e8e8 !important;\r\n    &:hover {\r\n      color: black;\r\n    }\r\n  }\r\n`;\r\n//  onDoubleClickonclick\r\nlet clickCount = 0;\r\n\r\nconst SubRow = ({\r\n  index,\r\n  style,\r\n  className,\r\n  rowData: sub,\r\n  onRowRemove,\r\n  onRowEdit,\r\n  onRowClick,\r\n  onRowCommit,\r\n  onRowCancel,\r\n  onRowInsert,\r\n  editingSub,\r\n  errors,\r\n  onInputValueChange,\r\n  displayIndex,\r\n  scrollIndex,\r\n}) => {\r\n  const hiddenOnEditing = \"hidden_onEditing\";\r\n  const displayOnEditing = [\"editing_default_hidden\", \"display_onEditing\"].join(\r\n    \" \"\r\n  );\r\n  // css\r\n  // document.onselectstart = function() {\r\n  //   return false;\r\n  // };\r\n  return (\r\n    <RowWrap>\r\n      <div\r\n        key={index}\r\n        style={style}\r\n        className={[\r\n          className,\r\n          \"rowClasses\",\r\n          index % 2 ? \"odd\" : \"\",\r\n          sub.editing ? \"onEditing\" : \"\",\r\n          scrollIndex === index ? \"scrollIndexBackColor\" : \"\",\r\n        ].join(\" \")}\r\n        onClick={() => {\r\n          clickCount += 1;\r\n          setTimeout(() => {\r\n            if (clickCount === 1) {\r\n              onRowClick(sub);\r\n            } else if (clickCount === 2) {\r\n              onRowEdit(sub);\r\n            }\r\n            //count\r\n            clickCount = 0;\r\n          }, 200);\r\n        }}\r\n      >\r\n        {/*  */}\r\n        <div className=\"rowT operation\" style={{ width: 90 }}>\r\n          <i\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onRowEdit(sub);\r\n            }}\r\n            className={`fa fa-pencil ${hiddenOnEditing}`}\r\n            title=\"\"\r\n          ></i>\r\n          <i\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onRowCommit(sub);\r\n            }}\r\n            className={`fa fa-check-circle-o ${displayOnEditing}`}\r\n            title=\"\"\r\n          ></i>\r\n          <i\r\n            className=\"fa fa-times deleteIcon\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onRowRemove(sub);\r\n            }}\r\n            title=\"\"\r\n          ></i>\r\n        </div>\r\n        {/*  */}\r\n        <div className=\"rowT\" style={{ width: 100 }}>\r\n          <span className={`${hiddenOnEditing}`}>{sub.startTime}</span>\r\n          <Input\r\n            className={[displayOnEditing]}\r\n            type=\"text\"\r\n            name=\"startTime\"\r\n            value={editingSub.startTime}\r\n            onChange={onInputValueChange}\r\n            errors={errors}\r\n          />\r\n        </div>\r\n        {/*  */}\r\n        <div className=\"rowT\" style={{ width: 100 }}>\r\n          <span className={`${hiddenOnEditing}`}>{sub.endTime}</span>\r\n          <Input\r\n            className={[displayOnEditing]}\r\n            type=\"text\"\r\n            name=\"endTime\"\r\n            value={editingSub.endTime}\r\n            onChange={onInputValueChange}\r\n            errors={errors}\r\n          />\r\n        </div>\r\n        {/*  */}\r\n        <div className=\"rowT\" style={{ width: 100 }}>\r\n          <span className={`${hiddenOnEditing}`}>{sub.length}</span>\r\n          <span className={`${displayOnEditing}`}>{editingSub.length}</span>\r\n        </div>\r\n        {/*  */}\r\n        <div className=\"rowT\" style={{ flex: 1 }}>\r\n          <span className={`${hiddenOnEditing}`}>{sub.content}</span>\r\n          <Input\r\n            className={[displayOnEditing]}\r\n            type=\"text\"\r\n            name=\"content\"\r\n            value={editingSub.content}\r\n            onChange={onInputValueChange}\r\n            errors={errors}\r\n          />\r\n        </div>\r\n        {/*     */}\r\n        <div className=\"rowT operation\" style={{ width: 50 }}>\r\n          <span\r\n            style={{ display: displayIndex ? \"block\" : \"none\" }}\r\n            className={`${hiddenOnEditing}`}\r\n          >\r\n            {index}\r\n          </span>\r\n          <i\r\n            onClick={(e) => {\r\n              // \r\n              e.stopPropagation();\r\n              onRowCancel(sub);\r\n            }}\r\n            className={`fa fa-reply ${displayOnEditing}`}\r\n            title=\"\"\r\n          ></i>\r\n          <div\r\n            className={`${hiddenOnEditing} lineBox `}\r\n            style={{ display: displayIndex ? \"none\" : \"block\" }}\r\n          >\r\n            <i\r\n              className={`fa fa-plus-square  insertBtn`}\r\n              title=\"\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                onRowInsert(sub);\r\n              }}\r\n            ></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </RowWrap>\r\n  );\r\n};\r\n\r\nexport default SubRow;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst HeaderRowWrap = styled.div`\r\n  background: #c0d9d9;\r\n  display: flex;\r\n  min-width: 650px;\r\n\r\n  .rowT {\r\n    padding: 10px 5px;\r\n    font-style: normal;\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    text-align: center;\r\n    text-transform: none;\r\n  }\r\n\r\n  .buttonLike {\r\n    position: relative;\r\n    background: #ffffff;\r\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 30px;\r\n    // margin-right: 10px;\r\n    padding: 9px 16px;\r\n    border-style: none;\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n    transition: all 200ms linear 0s;\r\n\r\n    i {\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n\r\n  .switchButton {\r\n    cursor: pointer;\r\n    &:hover {\r\n      color: #fff;\r\n      background-color: #43d7d7;\r\n      span {\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n\r\n  .stayButton {\r\n    height: 100%;\r\n    width: 100%;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0px;\r\n    cursor: pointer;\r\n    span {\r\n      position: relative;\r\n      top: 4px;\r\n    }\r\n    transition: all 0.3s ease;\r\n    &:hover {\r\n      color: #fff;\r\n      background-color: #43d7d7;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SubHeaderRow = props => {\r\n  const {\r\n    displayIndex,\r\n    onDisplayIndexSwitch,\r\n    subArrayLenIsZero,\r\n    onInsert\r\n  } = props;\r\n  return (\r\n    <HeaderRowWrap>\r\n      <div className=\"rowT\" style={{ width: 100 }}>\r\n        <div className=\"buttonLike\">\r\n          <span style={{ display: subArrayLenIsZero ? \"none\" : \"block\" }}>\r\n            <i className=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\r\n          </span>\r\n          <div\r\n            onClick={() => onInsert()}\r\n            className=\"stayButton\"\r\n            style={{ display: subArrayLenIsZero ? \"block\" : \"none\" }}\r\n          >\r\n            <span>\r\n              <i className=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"rowT\" style={{ width: 100 }}>\r\n        <span className=\"buttonLike\">\r\n          <i className=\"fa fa-step-backward\" aria-hidden=\"true\"></i>\r\n          \r\n        </span>\r\n      </div>\r\n      <div className=\"rowT\" style={{ width: 100 }}>\r\n        <span className=\"buttonLike\">\r\n          <i className=\"fa fa-step-forward\" aria-hidden=\"true\"></i>\r\n          \r\n        </span>\r\n      </div>\r\n      <div className=\"rowT\" style={{ width: 100 }}>\r\n        <span className=\"buttonLike\">\r\n          <i className=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>\r\n          \r\n        </span>\r\n      </div>\r\n      <div className=\"rowT\" style={{ flex: 1 }}>\r\n        <span className=\"buttonLike \">\r\n          <i className=\"fa fa-text-width\" aria-hidden=\"true\"></i>\r\n        </span>\r\n      </div>\r\n      <div className=\"rowT\" style={{ width: 50 }}>\r\n        <div\r\n          className=\"buttonLike switchButton\"\r\n          onClick={() => onDisplayIndexSwitch(!displayIndex)}\r\n        >\r\n          <span\r\n            style={{ display: displayIndex ? \"block\" : \"none\" }}\r\n            className=\" fa fa-sort-amount-asc\"\r\n            title=\"\"\r\n          ></span>\r\n          <span\r\n            style={{ display: displayIndex ? \"none\" : \"block\" }}\r\n            className=\" fa fa-sliders\"\r\n            title=\"\"\r\n          ></span>\r\n        </div>\r\n      </div>\r\n    </HeaderRowWrap>\r\n  );\r\n};\r\n\r\nexport default SubHeaderRow;\r\n","import React, { PureComponent } from \"react\";\r\nimport { Table } from \"react-virtualized\";\r\nimport styled from \"styled-components\";\r\nimport SubRow from \"./subRow\";\r\nimport SubHeaderRow from \"./subHeaderRow\";\r\nimport subService from \"../services/subService\";\r\nimport validateService from \"../services/validateService\";\r\nimport logger from \"../utils/logger\";\r\nimport notifier from \"../utils/notifier\";\r\nimport lihuaMikuPng from \"../resources/image/lihuaMiku.png\"\r\n\r\nconst TableWrapper = styled.div`\r\n  .ReactVirtualized__Table {\r\n    font-size: 12px;\r\n    background: #e3eeee;\r\n    // background: #c0d9d9; root\r\n\r\n    .ReactVirtualized__Table__Grid {\r\n      outline: none;\r\n      box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n      border-radius: 0.5rem;\r\n      min-width: 650px;\r\n      background-color: #e3eeee;\r\n      background-image: url(${lihuaMikuPng});\r\n      background-repeat: no-repeat;\r\n      background-position: 98% 98%;\r\n\r\n      .ReactVirtualized__Grid__innerScrollContainer {\r\n        min-width: 650px;\r\n      }\r\n    }\r\n\r\n    .gridScrollWrap {\r\n      overflow: hidden !important;\r\n      :hover {\r\n        overflow-y: scroll !important;\r\n\r\n        // fireFox\r\n        scrollbar-color: #6fd1d8 #fff;\r\n        // scrollbar-color: light;\r\n        scrollbar-width: thin;\r\n        // scrollbar-width: none;\r\n\r\n        //Safari and Chrome\r\n        ::-webkit-scrollbar {\r\n          // display: none;\r\n          width: 5px; /**/\r\n        }\r\n        ::-webkit-scrollbar-thumb {\r\n          /**/\r\n          border-radius: 10px;\r\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\r\n          background: #6fd1d8;\r\n          height: 10px;\r\n        }\r\n\r\n        ::-webkit-scrollbar-track {\r\n          /**/\r\n          box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\r\n          border-radius: 10px;\r\n          background: #fff;\r\n        }\r\n      }\r\n    }\r\n\r\n    .input,\r\n    .textarea {\r\n      border: none;\r\n      padding: 5px;\r\n      min-height: 30px;\r\n      font-size: 12px;\r\n      text-align: center;\r\n      background-color: #3a3a3a;\r\n    }\r\n\r\n    .textarea {\r\n      resize: vertical;\r\n    }\r\n\r\n    p {\r\n      line-height: 1.5;\r\n      margin: 0;\r\n    }\r\n  }\r\n`;\r\n\r\n//PureComponent https://react.docschina.org/docs/optimizing-performance.html\r\nclass SubTable extends PureComponent {\r\n  //\r\n  $tableRef = React.createRef();\r\n\r\n  state = {\r\n    //\r\n    editingSub: {\r\n      start: 0,\r\n      startTime: \"\",\r\n      end: 0,\r\n      endTime: \"\",\r\n      length: 0,\r\n      content: \"\",\r\n    },\r\n    errors: {},\r\n    //index true  false: \r\n    displayIndex: true,\r\n  };\r\n\r\n  //\r\n  schema = {};\r\n\r\n  //\r\n  errorSchema = {};\r\n\r\n  //toastId  \r\n  toastId_validate = null;\r\n\r\n  //toastId  \r\n  toastId_validatePropertys = {\r\n    startTime: null,\r\n    endTime: null,\r\n    content: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    //   \r\n    this.schema = validateService.getEditingSubSchema();\r\n    this.errorSchema = validateService.getEditingErrorSchema();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    // this.scrollToButtom();\r\n  }\r\n\r\n  //PureComponent shouldComponentUpdate\r\n  // shouldComponentUpdate(nextProps, nextState) {\r\n  //   return true;\r\n  // }\r\n\r\n  //\r\n  validate = () => {\r\n    //\r\n    const errorPaths = validateService.validate(\r\n      this.state.editingSub,\r\n      this.schema\r\n    );\r\n    //\r\n    let errors = {};\r\n    //\r\n    if (errorPaths) {\r\n      errorPaths.map((path) => (errors[path] = this.errorSchema[path]));\r\n    }\r\n    //\r\n    // ...\r\n    // false  \r\n    if (Object.keys(errors).length === 0) {\r\n      //state\r\n      this.setState({ errors: {} });\r\n      return false;\r\n    } else {\r\n      //state\r\n      this.setState({ errors });\r\n      //\r\n      return errors;\r\n    }\r\n  };\r\n\r\n  //\r\n  toast_validate = (errorMessages) => {\r\n    //\r\n    notifier.done(this.toastId_validate);\r\n    this.toastId_validate = notifier.bootstrapToast(\r\n      errorMessages,\r\n      \"warning\",\r\n      \"top_left\",\r\n      { autoClose: 10000 },\r\n      \"flip\"\r\n    );\r\n  };\r\n\r\n  //\r\n  validateProperty = (name, value) => {\r\n    const schema = {\r\n      [name]: this.schema[name],\r\n    };\r\n    // false true\r\n    const flag = validateService.validateProperty(name, value, schema);\r\n    //errors\r\n    let errors = { ...this.state.errors };\r\n    //   errors errors,  errors false\r\n    if (flag) {\r\n      errors[name] = this.errorSchema[name];\r\n      // state\r\n      this.setState({ errors });\r\n      //\r\n      let error = { [name]: this.errorSchema[name] };\r\n      return error;\r\n    } else {\r\n      // stateerrors\r\n      delete errors[name];\r\n      // state\r\n      this.setState({ errors });\r\n      //false\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // \r\n  toast_validateProperty = (name, errorMessage) => {\r\n    //\r\n    //id\r\n    const currentId = this.toastId_validatePropertys[name];\r\n    // \r\n    const ids = Object.values(this.toastId_validatePropertys);\r\n    //currentId ids\r\n    const index = ids.indexOf(currentId);\r\n    ids.splice(index, 1);\r\n    // ids\r\n    ids.map((id) => notifier.done(id));\r\n    // currentId  \r\n    if (!notifier.isActive(currentId)) {\r\n      this.toastId_validatePropertys[name] = notifier.notify(\r\n        errorMessage.length > 0 && errorMessage[0],\r\n        \"bottom_left\",\r\n        \"default\",\r\n        {\r\n          hideProgressBar: true,\r\n          autoClose: 5000,\r\n        },\r\n        \"flip\"\r\n      );\r\n    }\r\n  };\r\n\r\n  //input state.editingSub\r\n  handleInputValue = (name, value) => {\r\n    const editingSub = { ...this.state.editingSub };\r\n    editingSub[name] = value;\r\n    //\r\n    const error = this.validateProperty(name, value);\r\n    // \r\n    if (error) {\r\n      let errorMessage = validateService.errors2messages(error);\r\n      this.toast_validateProperty(name, errorMessage);\r\n    } else {\r\n      // \r\n      notifier.done(this.toastId_validatePropertys[name]);\r\n      //\r\n      editingSub.length = subService.getSubLength(editingSub);\r\n    }\r\n    //state\r\n    this.setState({ editingSub }, () => {\r\n      // logger.clog(\"input\", name, value, this.state.editingSub);\r\n    });\r\n  };\r\n\r\n  //  errors\r\n  handleRowEdit = (sub) => {\r\n    const { onEdit } = this.props;\r\n    const editingSub = subService.mapSubToFullModel(sub);\r\n    this.setState({ editingSub }, () => {\r\n      // errors\r\n      this.validate();\r\n      logger.clog(\"\", this.state.editingSub);\r\n    });\r\n    onEdit(sub);\r\n  };\r\n\r\n  handleRowClick = (sub) => {\r\n    const { onClick } = this.props;\r\n    onClick(sub);\r\n  };\r\n\r\n  //\r\n  handleRowCommit = (sub) => {\r\n    const { onCommit } = this.props;\r\n    //\r\n    const errors = this.validate();\r\n    // \r\n    if (errors) {\r\n      const errorMessages = validateService.errors2messages(errors);\r\n      //\r\n      this.toast_validate(errorMessages);\r\n      return;\r\n    } else {\r\n      // \r\n      notifier.done(this.toast_validate);\r\n      // sub  sub sub\r\n      onCommit(sub, subService.mapSubToFullModel(this.state.editingSub));\r\n    }\r\n  };\r\n\r\n  handleRowRemove = (sub) => {\r\n    const { onRemove } = this.props;\r\n    logger.clog(\"\", sub);\r\n    onRemove(sub);\r\n  };\r\n\r\n  //\r\n  handleRowCancel = (sub) => {\r\n    const { onCancel } = this.props;\r\n    logger.clog(\"\", sub);\r\n    onCancel(sub);\r\n  };\r\n\r\n  //table ps tableheader  grid\r\n  tableBackGroundColor = (subArray) => {\r\n    const color = subArray && subArray.length === 0 ? \"#e3eeee\" : \"#c0d9d9\";\r\n    let $table = document.getElementById(\"vSubTable\");\r\n    if ($table) {\r\n      $table.style.backgroundColor = color;\r\n    }\r\n  };\r\n\r\n  // \r\n  handleDisplayIndexSwitch = (boolean) => {\r\n    const displayIndex = boolean ? true : false;\r\n    this.setState({ displayIndex });\r\n  };\r\n\r\n  //\r\n  handleRowInsert = (sub) => {\r\n    const { onInsert } = this.props;\r\n    onInsert(sub);\r\n  };\r\n\r\n  //grid \r\n  scrollToButtom = () => {\r\n    // \r\n    const scrollWrap = document.getElementsByClassName(\"gridScrollWrap\")[0];\r\n    let scrollTop = scrollWrap.scrollTop;\r\n    let scrollHeight = scrollWrap.scrollHeight;\r\n    let clientHeight = scrollWrap.clientHeight;\r\n    console.log(\r\n      scrollWrap,\r\n      \"scrollHeight:\",\r\n      scrollHeight,\r\n      \";scrollTop:\",\r\n      scrollTop,\r\n      \";clientHeight:\",\r\n      clientHeight,\r\n      \";scrollHeight - scrollTop - clientHeight:\",\r\n      scrollHeight - scrollTop - clientHeight\r\n    );\r\n    //\r\n    scrollWrap.scrollTop =\r\n      scrollWrap.scrollTop + (scrollHeight - scrollTop - clientHeight);\r\n  };\r\n\r\n  render() {\r\n    const { subArray, scrollIndex, container, onInsert } = this.props;\r\n    const { containerHeight, containerWidth } = container;\r\n    //table  root\r\n    this.tableBackGroundColor(subArray);\r\n    return (\r\n      <TableWrapper>\r\n        <Table\r\n          id=\"vSubTable\"\r\n          ref={this.$tableRef}\r\n          headerHeight={35}\r\n          width={containerWidth / 2}\r\n          height={containerHeight}\r\n          gridClassName={\"gridScrollWrap\"}\r\n          rowHeight={60}\r\n          scrollToIndex={scrollIndex}\r\n          rowCount={subArray.length}\r\n          rowGetter={({ index }) => subArray[index]}\r\n          headerRowRenderer={() => (\r\n            <SubHeaderRow\r\n              {...this.state}\r\n              subArrayLenIsZero={subArray && subArray.length === 0}\r\n              onInsert={onInsert}\r\n              onDisplayIndexSwitch={this.handleDisplayIndexSwitch}\r\n            />\r\n          )}\r\n          rowRenderer={(rowProps) => (\r\n            <SubRow\r\n              {...rowProps}\r\n              onRowRemove={this.handleRowRemove}\r\n              onRowEdit={this.handleRowEdit}\r\n              onRowClick={this.handleRowClick}\r\n              onRowCommit={this.handleRowCommit}\r\n              onRowCancel={this.handleRowCancel}\r\n              onRowInsert={this.handleRowInsert}\r\n              onInputValueChange={this.handleInputValue}\r\n              {...this.state}\r\n              scrollIndex={scrollIndex}\r\n            />\r\n          )}\r\n        ></Table>\r\n      </TableWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SubTable;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst VideoControlBox = styled.div`\r\n  display: flex;\r\n  margin-bottom: 15px;\r\n  justify-content: space-around;\r\n\r\n  .controlIcon {\r\n    color: #529393;\r\n    transition: color 0.2s ease;\r\n    &:hover {\r\n      color: #66cccc;\r\n    }\r\n  }\r\n`;\r\n\r\nconst VideoControls = ({ onAction, playerPaused }) => {\r\n  return (\r\n    <VideoControlBox>\r\n      <i\r\n        className=\"fa fa-fast-backward controlIcon\"\r\n        title=\"ctrl alt  10\"\r\n        onClick={() => onAction(-10)}\r\n      ></i>\r\n      <i\r\n        className=\"fa fa-backward controlIcon\"\r\n        title=\"ctrl  1\"\r\n        onClick={() => onAction(-1)}\r\n      ></i>\r\n      <i\r\n        className=\"fa fa-step-backward controlIcon\"\r\n        title=\" 0.1\"\r\n        onClick={() => onAction(-0.1)}\r\n      ></i>\r\n      {!playerPaused ? (\r\n        <i\r\n          className=\"fa fa-pause controlIcon\"\r\n          title=\"space \"\r\n          onClick={() => onAction()}\r\n        ></i>\r\n      ) : (\r\n        <i\r\n          className=\"fa fa-play controlIcon\"\r\n          title=\"space \"\r\n          onClick={() => onAction()}\r\n        ></i>\r\n      )}\r\n      <i\r\n        className=\"fa fa-step-forward controlIcon\"\r\n        title=\" 0.1\"\r\n        onClick={() => onAction(0.1)}\r\n      ></i>\r\n      <i\r\n        className=\"fa fa-forward controlIcon\"\r\n        title=\"ctrl  1\"\r\n        onClick={() => onAction(1)}\r\n      ></i>\r\n      <i\r\n        className=\"fa fa-fast-forward controlIcon\"\r\n        title=\"ctrl alt  10\"\r\n        onClick={() => onAction(10)}\r\n      ></i>\r\n    </VideoControlBox>\r\n  );\r\n};\r\n\r\nexport default VideoControls;\r\n","import React, { useCallback } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst RippleButtonWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  user-select: none;\r\n  position: relative;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  color: white;\r\n  cursor: pointer;\r\n  box-shadow: 2px 1px 3px rgba(0, 0, 0, 0.2);\r\n\r\n  .rippleSpan {\r\n    display: block;\r\n    position: absolute;\r\n    border-radius: 100%;\r\n    background: rgba(255, 255, 255, 0.5);\r\n    transform: scale(0);\r\n  }\r\n\r\n  .rippleAnimation {\r\n    animation: ripple 0.5s ease-in;\r\n  }\r\n\r\n  .btnMouseDown {\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst RippleButton = ({\r\n  disabled,\r\n  height,\r\n  width,\r\n  bgColor,\r\n  label,\r\n  color,\r\n  onClick,\r\n  title,\r\n  className,\r\n  element\r\n}) => {\r\n  const rippleBtnBoxRef = useCallback((node) => {\r\n    if (node !== null && !disabled) {\r\n      //\r\n      node.onmouseenter = function (event) {\r\n        let ripple = node.querySelector(\".rippleSpan\");\r\n        ripple.classList.add(\"rippleAnimation\");\r\n        ripple.style.width = this.offsetWidth + \"px\";\r\n        ripple.style.height = this.offsetWidth + \"px\";\r\n        ripple.style.top = -(this.offsetHeight - event.offsetY) + \"px\";\r\n        ripple.style.left = -(this.offsetWidth / 2 - event.offsetX) + \"px\";\r\n        setTimeout(function () {\r\n          ripple.classList.remove(\"rippleAnimation\");\r\n        }, 500);\r\n      };\r\n      //\r\n      node.onmousedown = function (e) {\r\n        this.style.opacity = 0.7;\r\n        this.style.boxShadow = \"0px 0px 0px rgba(0, 0, 0, 0.2)\";\r\n      };\r\n      //\r\n      node.onmouseup = function (e) {\r\n        this.style.opacity = \"\";\r\n        this.style.boxShadow = \"\";\r\n      };\r\n    }\r\n  }, [disabled]);\r\n\r\n  return (\r\n    <RippleButtonWrapper\r\n      ref={rippleBtnBoxRef}\r\n      onClick={onClick}\r\n      title={title}\r\n      style={{\r\n        width,\r\n        height,\r\n        color,\r\n        backgroundColor: bgColor,\r\n      }}\r\n      className={className}\r\n    >\r\n      <span className=\"rippleSpan\"></span>\r\n      {label}{element}\r\n    </RippleButtonWrapper>\r\n  );\r\n};\r\n\r\nexport default RippleButton;\r\n","import React, { PureComponent } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport progressor from \"../utils/progressor\";\r\nimport notifier from \"../utils/notifier\";\r\nimport subService from \"../services/subService\";\r\nimport translater from \"../utils/translater\";\r\nimport logger from \"../utils/logger\";\r\nimport VideoControls from \"./videoControls\";\r\nimport RippleButton from \"./common/rippleButton\";\r\n\r\nconst ToolsWrapper = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  padding: 15px 0 15px 0;\r\n  // backgroud-color: #c0d9d9;\r\n\r\n  .toolsContainerBox {\r\n    display: flex;\r\n    flex: 1;\r\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\r\n    background-color: #e3eeeef2;\r\n    padding: 15px;\r\n    max-width: 950px;\r\n    max-height: 250px;\r\n  }\r\n\r\n  .leftBox {\r\n    flex: 1;\r\n    display: flex;\r\n    background: url(${require(\"../resources/image/blackboard.png\")}) no-repeat;\r\n    background-size: 47%;\r\n    background-position: 85% center;\r\n\r\n    .controlBox {\r\n      width: 200px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: flex-end;\r\n    }\r\n  }\r\n\r\n  .toolsBox {\r\n    flex: 1;\r\n    border: 1px dashed #529393;\r\n    border-radius: 6px 6px;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .shRow {\r\n      display: flex;\r\n    }\r\n\r\n    .shRowHeader {\r\n      width: 100px;\r\n      display: flex;\r\n      padding: 5px;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n\r\n    .shRowBody {\r\n      flex: 1;\r\n      display: flex;\r\n      padding: 0 30px 0 30px;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      flex-direction: row;\r\n\r\n      .toolsBtn {\r\n        // margin-right: 15px;\r\n        z-index: 1;\r\n        // pointer-events: none;\r\n      }\r\n    }\r\n\r\n    //select\r\n    .toolsSelect {\r\n      user-select: none;\r\n      border: none;\r\n      background: none;\r\n      appearance: none;\r\n      -webkit-appearance: none;\r\n      -ms-appearance: none;\r\n      -moz-appearance: none;\r\n      -o-appearance: none;\r\n      outline: none;\r\n      text-align: center; //\r\n      text-align-last: center;\r\n      height: 35px;\r\n      width: 90px;\r\n      border-radius: 5px;\r\n      background: linear-gradient(150deg, #00dfea, #66cccc);\r\n      color: white;\r\n      cursor: pointer;\r\n      box-shadow: 2px 1px 3px rgba(0, 0, 0, 0.2);\r\n      overflow: hidden;\r\n      // margin-right: 10px;\r\n      option {\r\n        color: black;\r\n        background: #ffffff;\r\n      }\r\n    }\r\n  }\r\n\r\n  //\r\n  input[type=\"range\"] {\r\n    appearance: none;\r\n    height: 3px;\r\n    width: 200px;\r\n    outline: none;\r\n    background-color: #529393;\r\n    border-radius: 10px;\r\n  }\r\n  //firefoxinput range outline\r\n  input[type=\"range\"]::-moz-focus-outer {\r\n    border: 0;\r\n  }\r\n\r\n  //chorme\r\n  input[type=\"range\"]::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    outline: none;\r\n    height: 15px;\r\n    width: 15px;\r\n    background: #ffffff;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n\r\n// \r\nconst FileYinput = styled.input`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  opacity: 0;\r\n  pointer-events: auto;\r\n  cursor: pointer;\r\n`;\r\n\r\nclass Tools extends PureComponent {\r\n  //\r\n  languages = translater.getBaiduTranslateLanguages();\r\n  languagesKeys = Object.keys(this.languages);\r\n\r\n  state = {\r\n    currentLanguageKeyFrom: \"auto\",\r\n    // auto\r\n    currentLanguageKeyTo: \"zh\",\r\n  };\r\n\r\n  handleLanguageChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleTranslate = () => {\r\n    const { onAllSubTranslate } = this.props;\r\n    const { currentLanguageKeyFrom, currentLanguageKeyTo } = this.state;\r\n    onAllSubTranslate(currentLanguageKeyFrom, currentLanguageKeyTo);\r\n  };\r\n\r\n  handleTranslateBackupReset = () => {\r\n    const { onSubArrayBackupReset } = this.props;\r\n    onSubArrayBackupReset();\r\n  };\r\n\r\n  handleVideoControlActions = (step) => {\r\n    const { onVideoControlAction } = this.props;\r\n    onVideoControlAction(step);\r\n  };\r\n\r\n  handleSubFile = async (e) => {\r\n    progressor.start();\r\n    const file = e.currentTarget.files[0];\r\n    if (file.type !== \"text/vtt\") {\r\n      progressor.done();\r\n      notifier.notify(\r\n        `vtt`,\r\n        \"top_center\",\r\n        \"warning\"\r\n      );\r\n      return;\r\n    }\r\n    const { updateSubArray, updateSubUrl } = this.props;\r\n    try {\r\n      const vttStr = await subService.readSubFileAsText(file);\r\n      //\r\n      notifier.notify(<p>{vttStr}</p>, \"top_center\", \"default\", {\r\n        autoClose: false,\r\n        className: \"textReader\",\r\n      });\r\n      const subUrl = subService.createVttSubBlobUrl(vttStr);\r\n      updateSubUrl(subUrl, true);\r\n      //url\r\n      const subArray = await subService.createSubArray(subUrl);\r\n      updateSubArray(subArray, true);\r\n    } catch (e) {\r\n      notifier.notify(`<Header>${e.message}`, \"top_center\", \"warning\");\r\n    }\r\n    progressor.done();\r\n  };\r\n\r\n  //\r\n  handleVideoFile = (e) => {\r\n    progressor.start();\r\n    const file = e.currentTarget.files[0];\r\n    // maybe video/mp4 video/x-flv\r\n    const $video = document.createElement(\"video\");\r\n    //webflv\r\n    if (\r\n      $video.canPlayType(file.type) !== \"maybe\" &&\r\n      file.type !== \"video/x-flv\"\r\n    ) {\r\n      progressor.done();\r\n      notifier.notify(\r\n        `mp4flv`,\r\n        \"top_center\",\r\n        \"warning\"\r\n      );\r\n      return;\r\n    }\r\n    logger.clog(\"\", $video, $video.canPlayType(file.type));\r\n    const videoUrl = URL.createObjectURL(file);\r\n    logger.clog(\"url\", videoUrl);\r\n    const { onSwitch } = this.props;\r\n    onSwitch(file.type, videoUrl);\r\n    progressor.done();\r\n  };\r\n\r\n  //\r\n  handleSubFileDownload = () => {\r\n    const { onDownload } = this.props;\r\n    onDownload();\r\n  };\r\n\r\n  //\r\n  handleSubClean = () => {\r\n    const { onClean } = this.props;\r\n    onClean();\r\n  };\r\n\r\n  render() {\r\n    const { duration, playerPaused, onDurationChange } = this.props;\r\n    const { currentLanguageKeyFrom, currentLanguageKeyTo } = this.state;\r\n    return (\r\n      <ToolsWrapper>\r\n        <div className=\"toolsContainerBox\">\r\n          <div className=\"leftBox\">\r\n            <div className=\"controlBox\">\r\n              <VideoControls\r\n                onAction={this.handleVideoControlActions}\r\n                playerPaused={playerPaused}\r\n              />\r\n              <input\r\n                type=\"range\"\r\n                title={`${duration}`}\r\n                value={duration}\r\n                min=\"10\"\r\n                max=\"20\"\r\n                step=\"1\"\r\n                onChange={(e) => {\r\n                  onDurationChange(Number(e.currentTarget.value));\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"toolsBox\">\r\n            <div className=\"shRow\">\r\n              <div className=\"shRowHeader\">\r\n                <RippleButton\r\n                  disabled={true}\r\n                  label=\"\"\r\n                  width=\"50px\"\r\n                  height=\"40px\"\r\n                  color=\"gray\"\r\n                  bgColor=\"white\"\r\n                />\r\n              </div>\r\n              <div className=\"shRowBody\">\r\n                <RippleButton\r\n                  className=\"toolsBtn\"\r\n                  width=\"45px\"\r\n                  height=\"35px\"\r\n                  label={\r\n                    <i className=\"fa fa-folder-open\" aria-hidden=\"true\"></i>\r\n                  }\r\n                  element={\r\n                    <FileYinput\r\n                      type=\"file\"\r\n                      name=\"file\"\r\n                      onChange={this.handleSubFile}\r\n                      title=\"\"\r\n                    />\r\n                  }\r\n                  color=\"white\"\r\n                  bgColor=\"#529393\"\r\n                />\r\n                <RippleButton\r\n                  className=\"toolsBtn\"\r\n                  width=\"45px\"\r\n                  height=\"35px\"\r\n                  label={\r\n                    <i className=\"fa fa-play-circle\" aria-hidden=\"true\"></i>\r\n                  }\r\n                  element={\r\n                    <FileYinput\r\n                      className=\"uploadVideo\"\r\n                      type=\"file\"\r\n                      name=\"file\"\r\n                      onChange={this.handleVideoFile}\r\n                      title=\"\"\r\n                    />\r\n                  }\r\n                  color=\"white\"\r\n                  bgColor=\"#529393\"\r\n                  title=\"dd\"\r\n                  onClick={() => console.log(\"click\")}\r\n                />\r\n                <RippleButton\r\n                  className=\"toolsBtn\"\r\n                  width=\"45px\"\r\n                  height=\"35px\"\r\n                  label={\r\n                    <i className=\"fa fa-cloud-download\" aria-hidden=\"true\"></i>\r\n                  }\r\n                  color=\"white\"\r\n                  bgColor=\"#529393\"\r\n                  title=\"\"\r\n                  onClick={this.handleSubFileDownload}\r\n                />\r\n                <RippleButton\r\n                  className=\"toolsBtn\"\r\n                  width=\"45px\"\r\n                  height=\"35px\"\r\n                  label={<i className=\"fa fa-trash\" aria-hidden=\"true\"></i>}\r\n                  color=\"white\"\r\n                  bgColor=\"#ec6464\"\r\n                  title=\"\"\r\n                  onClick={this.handleSubClean}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"shRow\">\r\n              <div className=\"shRowHeader\">\r\n                <RippleButton\r\n                  disabled={true}\r\n                  label=\"\"\r\n                  width=\"50px\"\r\n                  height=\"40px\"\r\n                  color=\"gray\"\r\n                  bgColor=\"white\"\r\n                />\r\n              </div>\r\n              <div className=\"shRowBody\">\r\n                <select\r\n                  className=\"toolsSelect\"\r\n                  name=\"currentLanguageKeyFrom\"\r\n                  value={currentLanguageKeyFrom}\r\n                  title=\"\"\r\n                  onChange={(e) =>\r\n                    this.handleLanguageChange(\r\n                      e.currentTarget.name,\r\n                      e.currentTarget.value\r\n                    )\r\n                  }\r\n                >\r\n                  {this.languagesKeys.map((k) => (\r\n                    <option key={k} value={k}>\r\n                      {this.languages[k]}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n\r\n                <select\r\n                  className=\"toolsSelect\"\r\n                  name=\"currentLanguageKeyTo\"\r\n                  value={currentLanguageKeyTo}\r\n                  title=\"\"\r\n                  onChange={(e) =>\r\n                    this.handleLanguageChange(\r\n                      e.currentTarget.name,\r\n                      e.currentTarget.value\r\n                    )\r\n                  }\r\n                >\r\n                  {this.languagesKeys\r\n                    //to Key  auto\r\n                    .filter((v) => v !== \"auto\")\r\n                    .map((k) => (\r\n                      <option key={k} value={k}>\r\n                        {this.languages[k]}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n\r\n                <RippleButton\r\n                  className=\"toolsBtn\"\r\n                  width=\"35px\"\r\n                  height=\"35px\"\r\n                  label={\r\n                    <i\r\n                      style={{ fontSize: \"16px\" }}\r\n                      className=\"fa fa-globe\"\r\n                      aria-hidden=\"true\"\r\n                    ></i>\r\n                  }\r\n                  color=\"white\"\r\n                  bgColor=\"#66cccc\"\r\n                  title=\" ()\"\r\n                  onClick={this.handleTranslate}\r\n                />\r\n\r\n                <RippleButton\r\n                  className=\"toolsBtn\"\r\n                  width=\"35px\"\r\n                  height=\"35px\"\r\n                  label={\r\n                    <i\r\n                      style={{ fontSize: \"16px\" }}\r\n                      className=\"fa fa-undo\"\r\n                      aria-hidden=\"true\"\r\n                    ></i>\r\n                  }\r\n                  color=\"white\"\r\n                  bgColor=\"#00dfea\"\r\n                  title=\"\"\r\n                  onClick={this.handleTranslateBackupReset}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ToolsWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tools;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { ShWave } from \"shwave\";\r\n\r\nconst LineWrapper = styled.div`\r\n  // 150px\r\n  height: 150px;\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  background-color: #c0d9d9;\r\n  // border-top: 1px solid rgb(10, 10, 10);\r\n  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst WaveLine = ({\r\n  currentTime,\r\n  videoUrl,\r\n  onWaveClick,\r\n  onWaveContextmenu,\r\n  subArray,\r\n  onSubBlockMove,\r\n  onSubBlockMoveError,\r\n  onSubBlockResize,\r\n  onSubBlockClick,\r\n  duration\r\n}) => {\r\n  return (\r\n    <LineWrapper>\r\n      <ShWave\r\n        duration={duration}\r\n        backgroundColor=\"#529393\"\r\n        currentTime={currentTime}\r\n        throttleWait={1}\r\n        url={videoUrl}\r\n        waveColor=\"#fbf8f86b\"\r\n        alterWaveColor=\"#57e3e3\"\r\n        waveScale={0.8}\r\n        click={onWaveClick}\r\n        contextmenu={onWaveContextmenu}\r\n        subArray={subArray}\r\n        onSubMove={onSubBlockMove}\r\n        onSubMoveError={onSubBlockMoveError}\r\n        ErrorWait={1050}\r\n        ErrorColor=\"#f09b50d9\"\r\n        onSubResize={onSubBlockResize}\r\n        onSubClick={onSubBlockClick}\r\n      />\r\n    </LineWrapper>\r\n  );\r\n};\r\n\r\nexport default WaveLine;\r\n","const _subArray = new WeakMap();\r\nconst _currentTime = new WeakMap();\r\n\r\nclass EditorState {\r\n  constructor(subArray, currentTime) {\r\n    _subArray.set(this, subArray);\r\n    _currentTime.set(this, currentTime);\r\n  }\r\n\r\n  get subArray() {\r\n    return _subArray.get(this);\r\n  }\r\n\r\n  get currentTime() {\r\n    return _currentTime.get(this);\r\n  }\r\n}\r\n\r\nexport default EditorState;\r\n","import React, { Component } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport _ from \"lodash\";\r\nimport styled, { createGlobalStyle } from \"styled-components\";\r\nimport subService from \"../services/subService\";\r\nimport videoService from \"../services/videoService\";\r\nimport logger from \"../utils/logger\";\r\nimport notifier from \"../utils/notifier\";\r\nimport translater from \"../utils/translater\";\r\nimport progressor from \"../utils/progressor\";\r\nimport config from \"../config/config.json\";\r\nimport Header from \"./header\";\r\nimport VideoPlayer from \"./videoPlayer\";\r\nimport SubTable from \"./subTable\";\r\nimport Tools from \"./tools\";\r\nimport WaveLine from \"./waveLine\";\r\nimport EditorState from \"../model/editorState\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n    html,\r\n    body,\r\n    #root {\r\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;\r\n        line-height: 1.5;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        min-width: 1300px;\r\n        min-height: 800px;\r\n    }\r\n\r\n    *, *::before, *::after {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    #root {\r\n        display: flex;\r\n        flex-direction: column;\r\n        font-size: 14px;\r\n        // color: #ccc; \r\n        background: #C0D9D9;\r\n        // background: #66CCCC;\r\n    }\r\n\r\n    #nprogress .bar {\r\n        top: 50px !important;\r\n\r\n        .peg {\r\n            display: none !important;\r\n        }\r\n    }\r\n\r\n    ::-webkit-scrollbar {\r\n        width: 10px;\r\n    }\r\n    \r\n    ::-webkit-scrollbar-thumb {\r\n        background-color: #666;\r\n    }\r\n    \r\n    ::-webkit-scrollbar-thumb:hover {\r\n        background-color: #ccc;\r\n    }\r\n`;\r\n\r\nconst Main = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex: 1;\r\n`;\r\n\r\nconst Left = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Right = styled.div`\r\n  flex: 1;\r\n  margin-top: 5px;\r\n`;\r\n\r\nconst requestAnimationFrameCom =\r\n  window.requestAnimationFrame ||\r\n  window.mozRequestAnimationFrame ||\r\n  window.webkitRequestAnimationFrame ||\r\n  window.msRequestAnimationFrame;\r\n\r\n//50px 150px\r\nclass SubEditor extends Component {\r\n  state = {\r\n    // https://sh-rep.oss-cn-hongkong.aliyuncs.com/mll.mp4   /friday.mp4\r\n    videoUrl: \"\",\r\n    subUrl: \"\",\r\n    subArray: [],\r\n    picUrl: videoService.getDefaultPicUrl(),\r\n    // SubTab  VideoPlayer\r\n    container: {\r\n      containerHeight: 10,\r\n      containerWidth: 10,\r\n    },\r\n    //index\r\n    scrollIndex: -1,\r\n    //\r\n    player: null,\r\n    //\r\n    currentTime: 0,\r\n    //\r\n    duration: 15,\r\n    //\r\n    playerPaused: true,\r\n  };\r\n\r\n  //urlworker\r\n  subUrlWorker = null;\r\n\r\n  //\r\n  componentDidMount() {\r\n    //container\r\n    this.resizeContainer();\r\n    //resize\r\n    this.addResizeListener();\r\n    //\r\n    this.addKeyboardListener();\r\n    //\r\n    this.initSubTable();\r\n    // worker\r\n    this.subUrlWorker = subService.createSubUrlWorker((subUrl) => {\r\n      //url \r\n      this.updateSubUrl(subUrl, true);\r\n    });\r\n  }\r\n\r\n  // \r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    console.log(nextProps, nextState);\r\n    const editorstate = this.createEditorState();\r\n    console.log(editorstate.currentTime);\r\n    return true;\r\n  }\r\n\r\n  //\r\n  componentWillUnmount() {\r\n    //  ??\r\n    // window.removeEventListener(\"resize\", this.resizeContainer);\r\n    // logger.clog(\"resize\");\r\n    window.removeEventListener(\"keyup\", this.videoControlsShortcutkey);\r\n  }\r\n\r\n  //container\r\n  resizeContainer = () => {\r\n    //50 150\r\n    const containerHeight = document.body.clientHeight - 200;\r\n    const containerWidth = document.body.clientWidth;\r\n    logger.clog(\"container\", containerWidth, containerHeight);\r\n    this.setState({ container: { containerHeight, containerWidth } });\r\n  };\r\n\r\n  //resize\r\n  addResizeListener = () => {\r\n    //this.resizeContainer setTimeout\r\n    function debounce(func, wait) {\r\n      let timeout;\r\n      return () => {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(func, wait);\r\n      };\r\n    }\r\n    //300ms\r\n    const timeOutResize = debounce(this.resizeContainer, 300);\r\n    //resize this.resizeContainer\r\n    window.addEventListener(\"resize\", timeOutResize);\r\n    logger.clog(\"resize\");\r\n  };\r\n\r\n  //videoControl\r\n  videoControlsShortcutkey = (e) => {\r\n    //\r\n    e.preventDefault();\r\n    //ctrlaltup\r\n    if (e.keyCode === 17 || e.keyCode === 18) return;\r\n    let step;\r\n    switch (e.keyCode) {\r\n      // Left\r\n      case 37:\r\n        step = -0.1;\r\n        if (e.ctrlKey) step = -1;\r\n        if (e.ctrlKey && e.altKey) step = -10;\r\n        break;\r\n      // Right\r\n      case 39:\r\n        step = 0.1;\r\n        if (e.ctrlKey) step = 1;\r\n        if (e.ctrlKey && e.altKey) step = 10;\r\n        break;\r\n      //Space\r\n      case 32:\r\n        // stepundifined\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n    this.handleVideoControlActions(step);\r\n  };\r\n\r\n  //\r\n  addKeyboardListener = () => {\r\n    window.addEventListener(\"keyup\", this.videoControlsShortcutkey);\r\n  };\r\n\r\n  // \r\n  updateOneState = (stateObject) => {\r\n    this.setState(stateObject);\r\n    logger.clog(\"state\", stateObject);\r\n  };\r\n\r\n  /**@description \r\n   * @param {array} subArray \r\n   * @param {boolean} willStorage \r\n   */\r\n  updateSubArray = (subArray, willStorage = false) => {\r\n    // \r\n    subArray.map((sub) => subService.mapSubToFullModel(sub));\r\n    //\r\n    const sortedArray = subService.sortSubArray(subArray);\r\n    //scrollIndex (scrollIndex  wavleLinescrollIndex)\r\n    this.setState({ scrollIndex: -1 });\r\n    //subArray\r\n    this.setState({ subArray: sortedArray }, () => {\r\n      //  ()=>{}this.statestate \r\n      // \r\n      if (!willStorage) return;\r\n      //\r\n      this.storageSubs(this.state.subArray);\r\n      // worker  \r\n      this.subUrlWorker.postMessage(this.state.subArray);\r\n    });\r\n  };\r\n\r\n  /**@description url\r\n   * @param {string} subUrl url\r\n   * @param {boolean} willLoadTrack track\r\n   */\r\n  updateSubUrl = (subUrl, willLoadTrack = false) => {\r\n    //url\r\n    URL.revokeObjectURL(this.state.subUrl);\r\n    this.setState({ subUrl }, () => {\r\n      //\r\n      if (willLoadTrack) {\r\n        logger.clog(\"\", this.state.subUrl);\r\n        //\r\n        this.loadTrack(this.state.subUrl);\r\n      }\r\n    });\r\n  };\r\n\r\n  //\r\n  loadTrack = (subUrl) => {\r\n    //p \r\n    this.cleanSubP();\r\n    if (!this.state.player || !this.state.player.video) return;\r\n    //dbplayer\r\n    const track = this.state.player.video.firstElementChild;\r\n    track.default = true;\r\n    track.kind = \"subtitles\";\r\n    track.src = subUrl;\r\n  };\r\n\r\n  // p  \r\n  cleanSubP = () => {\r\n    const subtitleDiv = document.getElementsByClassName(\"dplayer-subtitle\")[0];\r\n    const p = subtitleDiv.firstChild;\r\n    if (p) {\r\n      subtitleDiv.removeChild(p);\r\n      logger.clog(\"\", p);\r\n    }\r\n  };\r\n\r\n  // \r\n  storageSubs = (subArray, isBackup = false) => {\r\n    subService.saveSubArray(subArray, isBackup);\r\n  };\r\n\r\n  // \r\n  cleanStorageSubs = () => {\r\n    subService.cleanSubArray();\r\n    logger.clog(\"\");\r\n  };\r\n\r\n  //\r\n  initSubTable = async () => {\r\n    try {\r\n      const subArray = await subService.getSubArray();\r\n      //\r\n      if (!subArray || subArray.length === 0) {\r\n        const defaultSubUrl = videoService.getDefaultSubUrl();\r\n        this.updateSubUrl(defaultSubUrl, true);\r\n        const defaultSubArray = await subService.createSubArray(defaultSubUrl);\r\n        this.updateSubArray(defaultSubArray);\r\n        return;\r\n      }\r\n      //\r\n      this.updateSubArray(subArray);\r\n      const subUrl = subService.createSubArrayUrl(subArray);\r\n      //url   \r\n      this.updateSubUrl(subUrl, true);\r\n    } catch (e) {\r\n      console.log(e);\r\n      notifier.notify(\"\", \"top_center\", \"info\");\r\n    }\r\n  };\r\n\r\n  //\r\n  handleSubRemove = (sub) => {\r\n    const subArray = [...this.state.subArray];\r\n    const index = subArray.indexOf(sub);\r\n    subArray.splice(index, 1);\r\n    //state  url\r\n    this.updateSubArray(subArray, true);\r\n    logger.clog(\"\", sub, index);\r\n  };\r\n\r\n  //\r\n  handleSubEdit = (sub) => {\r\n    const subArray = [...this.state.subArray];\r\n    //subediting\r\n    subArray.map((sub) => (sub.editing = false));\r\n    const index = subArray.indexOf(sub);\r\n    subArray[index].editing = true;\r\n    this.updateSubArray(subArray);\r\n    logger.clog(\"handleEdit\", sub, index);\r\n  };\r\n\r\n  //\r\n  handleSubClick = (sub) => {\r\n    if (!sub || !sub.start) return;\r\n    const time = sub.start;\r\n    // time\r\n    this.playerSeekTo(time);\r\n  };\r\n\r\n  //\r\n  handleSubCancel = (sub) => {\r\n    //\r\n    const subArray = [...this.state.subArray];\r\n    const index = subArray.indexOf(sub);\r\n    subArray[index].editing = false;\r\n    this.updateSubArray(subArray);\r\n  };\r\n\r\n  //\r\n  handleSubCommit = (sub, editingSub) => {\r\n    const subArray = [...this.state.subArray];\r\n    //subindex\r\n    const index = subArray.indexOf(sub);\r\n    //sub\r\n    subArray[index] = editingSub;\r\n    //\r\n    subArray[index].editing = false;\r\n    //\r\n    //state   url\r\n    this.updateSubArray(subArray, true);\r\n    logger.clog(\"\", sub, editingSub, subArray);\r\n  };\r\n\r\n  //\r\n  handleSubInsert = (sub) => {\r\n    // \r\n    // sub  sub +0.001  sub 0\r\n    let start = sub ? sub.end + 0.001 : 0;\r\n    //\r\n    const subArray = [...this.state.subArray];\r\n    //sub index-1\r\n    let index = subArray.indexOf(sub);\r\n    //subsub next\r\n    const next = subArray[index + 1];\r\n    // nextnext -0.001  next +5\r\n    let end = next ? Math.abs(next.start - 0.001) : start + 5;\r\n    //\r\n    if (Number((end - start).toFixed(3)) < 0.001) {\r\n      notifier.notify(\"0.03\");\r\n      return;\r\n    }\r\n    // \r\n    const dSub = subService.getDefaultSub(Number(start), Number(end));\r\n    //\r\n    subArray.splice(index + 1, 0, dSub);\r\n    //\r\n    this.updateSubArray(subArray);\r\n    //\r\n    const scrollIndex = index + 1;\r\n    this.setState({ scrollIndex });\r\n    logger.clog(\"\", dSub);\r\n  };\r\n\r\n  //\r\n  handleSubDownload = async () => {\r\n    try {\r\n      const isSuccess = await subService.downloadSubFile();\r\n      logger.clog(isSuccess);\r\n      if (!isSuccess) notifier.notify(\"\");\r\n    } catch (e) {\r\n      notifier.notify(\"\", \"top_center\", \"warning\");\r\n    }\r\n  };\r\n\r\n  //  \r\n  handleSubClean = () => {\r\n    //\r\n    const isConfirm = window.confirm(\"\");\r\n    if (isConfirm) {\r\n      //\r\n      this.cleanStorageSubs();\r\n      //url track url\r\n      this.updateSubUrl(\"\", true);\r\n      //\r\n      const subArray = [];\r\n      this.updateSubArray(subArray);\r\n    }\r\n  };\r\n\r\n  // \r\n  handlePlayerInit = (player) => {\r\n    logger.clog(\"\");\r\n    this.setState({ player });\r\n    //160 time \r\n    const frameWork = () => {\r\n      const { video } = player;\r\n      //\r\n      this.handleCurrentTime(video.currentTime);\r\n      requestAnimationFrameCom(frameWork);\r\n    };\r\n    //\r\n    requestAnimationFrameCom(frameWork);\r\n  };\r\n\r\n  //seek\r\n  playerSeekTo = (second, action = \"pause\") => {\r\n    const player = this.state.player;\r\n    if (!player || !player.video) return;\r\n    const duration = player.video.duration;\r\n    player[action]();\r\n    //\r\n    const time = second > duration ? duration : second;\r\n    player.seek(time);\r\n  };\r\n\r\n  //\r\n  handleVideoSwitch = (fileType, videoUrl) => {\r\n    const videoType = videoService.createVideoType(fileType);\r\n    //\r\n    URL.revokeObjectURL(this.state.videoUrl);\r\n    //url\r\n    this.setState({ videoUrl });\r\n    this.state.player.switchVideo({\r\n      url: videoUrl,\r\n      type: videoType,\r\n    });\r\n  };\r\n\r\n  // \r\n  handleVideoCanPlay = () => {\r\n    logger.clog(\"\");\r\n    const isChrome = navigator.userAgent.toLowerCase().indexOf(\"chrome\") > 0;\r\n    //chrome  \r\n    if (isChrome) {\r\n      const subtitleDiv = document.getElementsByClassName(\r\n        \"dplayer-subtitle\"\r\n      )[0];\r\n      if (subtitleDiv) {\r\n        subtitleDiv.style.opacity = 0;\r\n      }\r\n    }\r\n  };\r\n\r\n  //scrollIndex\r\n  handleScrollIndexFrame = (index) => {\r\n    if (this.state.scrollIndex === index) return;\r\n    this.setState({ scrollIndex: index });\r\n  };\r\n\r\n  //  \r\n  handleCurrentTime = (currentTime) => {\r\n    if (this.state.currentTime === currentTime) return;\r\n    this.setState({ currentTime }, () => {\r\n      //ScrollIndex \r\n      //findIndex -1\r\n      const index = this.state.subArray.findIndex(\r\n        (sub) => sub.start <= currentTime && sub.end > currentTime\r\n      );\r\n      if (index === -1) return;\r\n      this.handleScrollIndexFrame(index);\r\n    });\r\n  };\r\n\r\n  //\r\n  handlePlayerPaused = (playerPaused) => {\r\n    const player = this.state.player;\r\n    if (player && player.video) {\r\n      playerPaused = player.video.paused;\r\n    }\r\n    this.setState({ playerPaused });\r\n  };\r\n\r\n  //\r\n  handleVideoPlaying = () => {};\r\n\r\n  //waveLine url \r\n  handleWaveClick = (time, event) => {\r\n    // time\r\n    this.playerSeekTo(time);\r\n  };\r\n\r\n  //waveLine url \r\n  handleWaveContextmenu = (time, event) => {\r\n    // time\r\n    this.playerSeekTo(time, \"play\");\r\n  };\r\n\r\n  //timeLine\r\n  handleSubBlockMove = (originSub, translateSecond) => {\r\n    // \r\n    const subArray = [...this.state.subArray];\r\n    const index = subArray.indexOf(originSub);\r\n    const sub = subArray[index];\r\n    const start = Number(Number(sub.start + translateSecond).toFixed(3));\r\n    const end = Number(Number(sub.end + translateSecond).toFixed(3));\r\n    // subArray\r\n    if (start < 0 || end <= 0) return;\r\n    // startTime\r\n    const tempSub = { ...sub };\r\n    tempSub.startTime = subService.toTime(start);\r\n    tempSub.endTime = subService.toTime(end);\r\n    // subArray[index] subTablePureComponent \r\n    subArray[index] = subService.mapSubToFullModel(tempSub);\r\n    this.updateSubArray(subArray, true);\r\n  };\r\n\r\n  //id\r\n  toastId_subBlockMoveError = null;\r\n  //\r\n  handleSubBlockMoveError = () => {\r\n    if (!notifier.isActive(this.toastId_subBlockMoveError)) {\r\n      this.toastId_subBlockMoveError = notifier.notify(\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <div></div>\r\n        </div>,\r\n        \"bottom_left\",\r\n        \"warning\",\r\n        {\r\n          hideProgressBar: true,\r\n          autoClose: 1000,\r\n          canClose: true,\r\n        },\r\n        \"flip\"\r\n      );\r\n    }\r\n  };\r\n\r\n  //resize \r\n  handleSubBlockResize = (originSub, translateSecond, type) => {\r\n    // \r\n    const subArray = [...this.state.subArray];\r\n    const index = subArray.indexOf(originSub);\r\n    const sub = subArray[index];\r\n    // startTime\r\n    const tempSub = { ...sub };\r\n    let start = null;\r\n    let end = 0;\r\n    if (type === \"start\") {\r\n      start = Number(Number(sub.start + translateSecond).toFixed(3));\r\n      // subArray\r\n      if (start === null || start < 0) return;\r\n      tempSub.startTime = subService.toTime(start);\r\n    } else {\r\n      end = Number(Number(sub.end + translateSecond).toFixed(3));\r\n      // subArray\r\n      if (end <= 0 || end <= sub.start) return;\r\n      tempSub.endTime = subService.toTime(end);\r\n    }\r\n    subArray[index] = subService.mapSubToFullModel(tempSub);\r\n    this.updateSubArray(subArray, true);\r\n  };\r\n\r\n  //\r\n  handleSubBlockClick = (sub) => {\r\n    const subArray = [...this.state.subArray];\r\n    const scrollIndex = subArray.indexOf(sub);\r\n    this.setState({ scrollIndex });\r\n  };\r\n\r\n  //duration\r\n  handleDurationChange = (duration) => {\r\n    this.setState({ duration });\r\n  };\r\n\r\n  //  \r\n  handleAllSubTranslate = async (fromKey, toKey) => {\r\n    progressor.start();\r\n    //\r\n    const subArray = await subService.getSubArray();\r\n    //\r\n    const subTextArr = subService.createSubTextArr(subArray);\r\n    const translateText = translater.createTranslateTextFromStringArr(\r\n      subTextArr\r\n    );\r\n    progressor.set(10);\r\n    progressor.inc(50);\r\n    //\r\n    notifier.notify(\r\n      \"...( 2\",\r\n      \"top_center\"\r\n    );\r\n    // \r\n    let resultTextArr = [];\r\n    try {\r\n      resultTextArr = await translater.translateByLangKey(\r\n        fromKey,\r\n        toKey,\r\n        translateText\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n      progressor.done();\r\n      //\r\n      notifier.notify(\"\", \"top_center\", \"warning\");\r\n      return;\r\n    }\r\n    console.log(\"\", resultTextArr);\r\n    // \r\n    if (!resultTextArr || resultTextArr === []) {\r\n      progressor.done();\r\n      return notifier.notify(\"\", \"top_center\", \"warning\");\r\n    }\r\n\r\n    // \r\n    if (resultTextArr !== [] && resultTextArr.length !== subArray.length) {\r\n      progressor.done();\r\n      return notifier.notify(\r\n        \"\",\r\n        \"top_center\",\r\n        \"warning\"\r\n      );\r\n    }\r\n\r\n    // map \r\n    const translatedSubArray = subArray.map((sub, index) => ({\r\n      ...sub,\r\n      content: resultTextArr[index],\r\n    }));\r\n    progressor.inc(20);\r\n    // \r\n    this.storageSubs(subArray, true);\r\n    //  \r\n    this.updateSubArray(translatedSubArray, true);\r\n    progressor.done();\r\n    //\r\n    notifier.notify(\"\", \"top_center\");\r\n  };\r\n\r\n  // Debounce\r\n  handleAllSubTranslateDebounce = _.debounce(this.handleAllSubTranslate, 2000, {\r\n    leading: true,\r\n    trailing: false,\r\n  });\r\n\r\n  //  \r\n  handleSubArrayBackupReset = async () => {\r\n    const backupSubArray = await subService.getSubArray(true);\r\n    this.updateSubArray(backupSubArray, false);\r\n    //\r\n    notifier.notify(\r\n      \"\",\r\n      \"top_center\"\r\n    );\r\n  };\r\n\r\n  // videoControl\r\n  handleVideoControlActions = (step) => {\r\n    const player = this.state.player;\r\n    if (!player || !player.video) return;\r\n    if (step && typeof step === \"number\") {\r\n      const currentTime = this.state.currentTime;\r\n      const time = Math.round((currentTime + step) * 10) / 10;\r\n      this.playerSeekTo(time);\r\n    } else {\r\n      if (!player.video.duration) return;\r\n      const { paused } = player.video;\r\n      paused ? player.play() : player.pause();\r\n    }\r\n  };\r\n\r\n  //\r\n  createEditorState = () => {\r\n    const { subArray, currentTime, duration, player } = this.state;\r\n    console.log(\"\", player, duration);\r\n    return new EditorState(subArray, currentTime);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      videoUrl,\r\n      subUrl,\r\n      subArray,\r\n      picUrl,\r\n      container,\r\n      scrollIndex,\r\n      player,\r\n      currentTime,\r\n      duration,\r\n      playerPaused,\r\n    } = this.state;\r\n    const funcProps = {\r\n      updateOneState: this.updateOneState,\r\n      updateSubArray: this.updateSubArray,\r\n      updateSubUrl: this.updateSubUrl,\r\n      storageSubs: this.storageSubs,\r\n      cleanStorageSubs: this.cleanStorageSubs,\r\n      onDownload: this.handleSubDownload,\r\n      onClean: this.handleSubClean,\r\n      onRemove: this.handleSubRemove,\r\n      onEdit: this.handleSubEdit,\r\n      onClick: this.handleSubClick,\r\n      onCommit: this.handleSubCommit,\r\n      onCancel: this.handleSubCancel,\r\n      onInsert: this.handleSubInsert,\r\n      onSwitch: this.handleVideoSwitch,\r\n      initPlayer: this.handlePlayerInit,\r\n      onVideoCanPlay: this.handleVideoCanPlay,\r\n      updateCurrentTime: this.handleCurrentTime,\r\n      onVideoPlayerPausedSwitch: this.handlePlayerPaused,\r\n      onVideoPlaying: this.handleVideoPlaying,\r\n      onWaveClick: this.handleWaveClick,\r\n      onWaveContextmenu: this.handleWaveContextmenu,\r\n      onSubBlockMove: this.handleSubBlockMove,\r\n      onSubBlockMoveError: this.handleSubBlockMoveError,\r\n      onSubBlockResize: this.handleSubBlockResize,\r\n      onSubBlockClick: this.handleSubBlockClick,\r\n      onDurationChange: this.handleDurationChange,\r\n      onAllSubTranslate: this.handleAllSubTranslateDebounce,\r\n      onSubArrayBackupReset: this.handleSubArrayBackupReset,\r\n      onVideoControlAction: this.handleVideoControlActions,\r\n    };\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Helmet>\r\n          <title>{config.subeditor_title}</title>\r\n        </Helmet>\r\n        <GlobalStyle />\r\n        <Header {...funcProps} />\r\n        <Main>\r\n          <Left>\r\n            <VideoPlayer\r\n              {...funcProps}\r\n              picUrl={picUrl}\r\n              videoUrl={videoUrl}\r\n              subUrl={subUrl}\r\n              player={player}\r\n            />\r\n            <Tools\r\n              duration={duration}\r\n              playerPaused={playerPaused}\r\n              {...funcProps}\r\n            />\r\n          </Left>\r\n          <Right>\r\n            <SubTable\r\n              {...funcProps}\r\n              container={container}\r\n              subArray={subArray}\r\n              scrollIndex={scrollIndex}\r\n            />\r\n          </Right>\r\n        </Main>\r\n        {/* <Timeline {...funcProps}/> */}\r\n        <WaveLine\r\n          {...funcProps}\r\n          currentTime={currentTime}\r\n          videoUrl={videoUrl}\r\n          subArray={subArray}\r\n          duration={duration}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SubEditor;\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport config from \"../config/config.json\"\r\nimport guideService from \"../services/guideService\"\r\n\r\nconst Test = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <Helmet>\r\n        <title>{config.test_title}</title>\r\n      </Helmet>\r\n      <video\r\n        id=\"video\"\r\n        controls\r\n        width=\"900px\"\r\n        src={`${guideService.home}friday.mp4`}\r\n      >\r\n        <track\r\n          default\r\n          kind=\"subtitles\"\r\n          srcLang=\"en\"\r\n          src={`${guideService.home}friday.vtt`}\r\n        />\r\n      </video>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Test;\r\n","import React, { Component } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport SubEditor from \"./components/subEditor\";\r\nimport Test from \"./components/test\";\r\nimport notifier from \"./utils/notifier\";\r\nimport guideService from \"./services/guideService\";\r\nimport subeditorIco from \"./resources/image/subeditor.ico\"\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nclass App extends Component {\r\n  state = {};\r\n  render() {\r\n    notifier.notify(\"hello\", \"top_left\");\r\n    return (\r\n      <React.Fragment>\r\n        <Helmet>\r\n          <meta charSet=\"utf-8\" />\r\n          <title>SH - SubEditor App</title>\r\n          <link rel=\"icon\" href={subeditorIco} />\r\n        </Helmet>\r\n        <ToastContainer\r\n          autoClose={3000}\r\n          closeOnClick={false}\r\n          draggable={false}\r\n          position={toast.POSITION.TOP_LEFT}\r\n          className=\"toastContainerClass\"\r\n        />\r\n        <Switch>\r\n          <Route path={guideService.trackTest} component={Test} />\r\n          <Route path={guideService.subEditorPath} component={SubEditor} />\r\n        </Switch>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport styled from \"styled-components\";\r\nimport config from \"../config/config.json\";\r\n\r\nconst NotSupportMobileWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  .messageBox {\r\n    flex: 1;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-image: url(${require(\"../resources/image/subEditor.png\")});\r\n    background-position: top center;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n\r\n    .message {\r\n      color: #fff;\r\n      position: relative;\r\n      top: -15%;\r\n      white-space: pre-wrap;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NotSupportMobile = () => {\r\n  return (\r\n    <NotSupportMobileWrapper>\r\n      <Helmet>\r\n        <title>{config.subeditor_title}</title>\r\n      </Helmet>\r\n\r\n      <div className=\"messageBox\">\r\n        <div className=\"message\">\r\n          {\"Sorry,\\nPC\"}\r\n        </div>\r\n      </div>\r\n    </NotSupportMobileWrapper>\r\n  );\r\n};\r\n\r\nexport default NotSupportMobile;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n// import { BrowserRouter } from \"react-router-dom\";\r\n// githubpages HashRouter\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport NotSupportMobile from \"./components/notSupportMobile\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport guideService from \"./services/guideService\";\r\nimport \"./index.css\";\r\nimport \"normalize.css\";\r\nimport \"font-awesome/css/font-awesome.css\";\r\nimport \"nprogress/nprogress.css\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"react-virtualized/styles.css\";\r\n\r\nconst isMobile = guideService.isMobile();\r\n\r\nReactDOM.render(\r\n  isMobile ? (\r\n    <NotSupportMobile />\r\n  ) : (\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  ),\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/subEditor.d0e3de75.png\";"],"sourceRoot":""}